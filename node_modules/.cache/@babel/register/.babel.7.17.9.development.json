{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconsole.log(\"hello\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVoiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxwaGdzdFxcRG9jdW1lbnRzXFxHaXRIdWJcXHdldHViZVxcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc29sZS5sb2coXCJoZWxsb1wiKTsiXX0=","map":{"version":3,"sources":["index.js"],"names":["console","log"],"mappings":";;AAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\","sourcesContent":["console.log(\"hello\");"]}},"mtime":1651007515094},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\n\nvar _connectMongo = _interopRequireDefault(require(\"connect-mongo\"));\n\nvar _rootRouter = _interopRequireDefault(require(\"./routers/rootRouter\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _videoRouter = _interopRequireDefault(require(\"./routers/videoRouter\"));\n\nvar _middlewares = require(\"./middlewares\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\nvar logger = (0, _morgan[\"default\"])(\"dev\");\napp.set(\"view engine\", \"pug\");\napp.use(\"/uploads\", _express[\"default\"][\"static\"](\"uploads\"));\napp.use(\"/assets\", _express[\"default\"][\"static\"](\"assets\"));\napp.set(\"views\", process.cwd() + \"/src/views\");\napp.use(logger);\napp.use(_express[\"default\"].urlencoded({\n  extended: true\n}));\napp.use((0, _expressSession[\"default\"])({\n  secret: process.env.COOKIE_SECRET,\n  resave: false,\n  saveUninitialized: false,\n  store: _connectMongo[\"default\"].create({\n    mongoUrl: process.env.DB_URL\n  })\n})); // session middleware\n// session middlewar will remember everybody who comes to my website, even if they don't login\n// session middleware will give text to my browser. then browser could remember who comes to my website indivisualy.\n// then, browser will give cookie to my backend\n\napp.use(_middlewares.localsMiddleware);\napp.use(\"/\", _rootRouter[\"default\"]);\napp.use(\"/user\", _userRouter[\"default\"]);\napp.use(\"/videos\", _videoRouter[\"default\"]);\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJsb2dnZXIiLCJzZXQiLCJ1c2UiLCJleHByZXNzIiwicHJvY2VzcyIsImN3ZCIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNlY3JldCIsImVudiIsIkNPT0tJRV9TRUNSRVQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInN0b3JlIiwiTW9uZ29TdG9yZSIsImNyZWF0ZSIsIm1vbmdvVXJsIiwiREJfVVJMIiwibG9jYWxzTWlkZGxld2FyZSIsInJvb3RSb3V0ZXIiLCJ1c2VyUm91dGVyIiwidmlkZW9Sb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQU1BLEdBQUcsR0FBRywwQkFBWjtBQUNBLElBQU1DLE1BQU0sR0FBRyx3QkFBTyxLQUFQLENBQWY7QUFFQUQsR0FBRyxDQUFDRSxHQUFKLENBQVEsYUFBUixFQUF1QixLQUF2QjtBQUNBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxVQUFSLEVBQW9CQyw4QkFBZSxTQUFmLENBQXBCO0FBQ0FKLEdBQUcsQ0FBQ0csR0FBSixDQUFRLFNBQVIsRUFBbUJDLDhCQUFlLFFBQWYsQ0FBbkI7QUFDQUosR0FBRyxDQUFDRSxHQUFKLENBQVEsT0FBUixFQUFpQkcsT0FBTyxDQUFDQyxHQUFSLEtBQWdCLFlBQWpDO0FBQ0FOLEdBQUcsQ0FBQ0csR0FBSixDQUFRRixNQUFSO0FBQ0FELEdBQUcsQ0FBQ0csR0FBSixDQUFRQyxvQkFBUUcsVUFBUixDQUFtQjtBQUFDQyxFQUFBQSxRQUFRLEVBQUU7QUFBWCxDQUFuQixDQUFSO0FBRUFSLEdBQUcsQ0FBQ0csR0FBSixDQUNJLGdDQUFTO0FBQ0xNLEVBQUFBLE1BQU0sRUFBRUosT0FBTyxDQUFDSyxHQUFSLENBQVlDLGFBRGY7QUFFTEMsRUFBQUEsTUFBTSxFQUFFLEtBRkg7QUFHTEMsRUFBQUEsaUJBQWlCLEVBQUUsS0FIZDtBQUlMQyxFQUFBQSxLQUFLLEVBQUVDLHlCQUFXQyxNQUFYLENBQWtCO0FBQUNDLElBQUFBLFFBQVEsRUFBRVosT0FBTyxDQUFDSyxHQUFSLENBQVlRO0FBQXZCLEdBQWxCO0FBSkYsQ0FBVCxDQURKLEUsQ0FVQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQWxCLEdBQUcsQ0FBQ0csR0FBSixDQUFRZ0IsNkJBQVI7QUFDQW5CLEdBQUcsQ0FBQ0csR0FBSixDQUFRLEdBQVIsRUFBYWlCLHNCQUFiO0FBQ0FwQixHQUFHLENBQUNHLEdBQUosQ0FBUSxPQUFSLEVBQWlCa0Isc0JBQWpCO0FBQ0FyQixHQUFHLENBQUNHLEdBQUosQ0FBUSxTQUFSLEVBQW1CbUIsdUJBQW5CO2VBRWV0QixHIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IG1vcmdhbiBmcm9tIFwibW9yZ2FuXCI7XHJcbmltcG9ydCBzZXNzaW9uIGZyb20gXCJleHByZXNzLXNlc3Npb25cIjtcclxuaW1wb3J0IE1vbmdvU3RvcmUgZnJvbSBcImNvbm5lY3QtbW9uZ29cIjtcclxuaW1wb3J0IHJvb3RSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy9yb290Um91dGVyXCI7XHJcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXNlclJvdXRlclwiO1xyXG5pbXBvcnQgdmlkZW9Sb3V0ZXIgZnJvbSBcIi4vcm91dGVycy92aWRlb1JvdXRlclwiO1xyXG5pbXBvcnQgeyBsb2NhbHNNaWRkbGV3YXJlIH0gZnJvbSBcIi4vbWlkZGxld2FyZXNcIjtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgbG9nZ2VyID0gbW9yZ2FuKFwiZGV2XCIpO1xyXG5cclxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwicHVnXCIpO1xyXG5hcHAudXNlKFwiL3VwbG9hZHNcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzXCIpKTtcclxuYXBwLnVzZShcIi9hc3NldHNcIiwgZXhwcmVzcy5zdGF0aWMoXCJhc3NldHNcIikpO1xyXG5hcHAuc2V0KFwidmlld3NcIiwgcHJvY2Vzcy5jd2QoKSArIFwiL3NyYy92aWV3c1wiKTtcclxuYXBwLnVzZShsb2dnZXIpO1xyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IHRydWV9KSk7XHJcblxyXG5hcHAudXNlKFxyXG4gICAgc2Vzc2lvbiAoe1xyXG4gICAgICAgIHNlY3JldDogcHJvY2Vzcy5lbnYuQ09PS0lFX1NFQ1JFVCxcclxuICAgICAgICByZXNhdmU6IGZhbHNlLFxyXG4gICAgICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZSwgICBcclxuICAgICAgICBzdG9yZTogTW9uZ29TdG9yZS5jcmVhdGUoe21vbmdvVXJsOiBwcm9jZXNzLmVudi5EQl9VUkx9KSxcclxuICAgIH0pXHJcbik7XHJcblxyXG5cclxuLy8gc2Vzc2lvbiBtaWRkbGV3YXJlXHJcbi8vIHNlc3Npb24gbWlkZGxld2FyIHdpbGwgcmVtZW1iZXIgZXZlcnlib2R5IHdobyBjb21lcyB0byBteSB3ZWJzaXRlLCBldmVuIGlmIHRoZXkgZG9uJ3QgbG9naW5cclxuLy8gc2Vzc2lvbiBtaWRkbGV3YXJlIHdpbGwgZ2l2ZSB0ZXh0IHRvIG15IGJyb3dzZXIuIHRoZW4gYnJvd3NlciBjb3VsZCByZW1lbWJlciB3aG8gY29tZXMgdG8gbXkgd2Vic2l0ZSBpbmRpdmlzdWFseS5cclxuLy8gdGhlbiwgYnJvd3NlciB3aWxsIGdpdmUgY29va2llIHRvIG15IGJhY2tlbmRcclxuXHJcblxyXG5hcHAudXNlKGxvY2Fsc01pZGRsZXdhcmUpO1xyXG5hcHAudXNlKFwiL1wiLCByb290Um91dGVyKTtcclxuYXBwLnVzZShcIi91c2VyXCIsIHVzZXJSb3V0ZXIpO1xyXG5hcHAudXNlKFwiL3ZpZGVvc1wiLCB2aWRlb1JvdXRlcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHAiXX0=","map":{"version":3,"sources":["server.js"],"names":["app","logger","set","use","express","process","cwd","urlencoded","extended","secret","env","COOKIE_SECRET","resave","saveUninitialized","store","MongoStore","create","mongoUrl","DB_URL","localsMiddleware","rootRouter","userRouter","videoRouter"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AACA,IAAMC,MAAM,GAAG,wBAAO,KAAP,CAAf;AAEAD,GAAG,CAACE,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAF,GAAG,CAACG,GAAJ,CAAQ,UAAR,EAAoBC,8BAAe,SAAf,CAApB;AACAJ,GAAG,CAACG,GAAJ,CAAQ,SAAR,EAAmBC,8BAAe,QAAf,CAAnB;AACAJ,GAAG,CAACE,GAAJ,CAAQ,OAAR,EAAiBG,OAAO,CAACC,GAAR,KAAgB,YAAjC;AACAN,GAAG,CAACG,GAAJ,CAAQF,MAAR;AACAD,GAAG,CAACG,GAAJ,CAAQC,oBAAQG,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AAEAR,GAAG,CAACG,GAAJ,CACI,gCAAS;AACLM,EAAAA,MAAM,EAAEJ,OAAO,CAACK,GAAR,CAAYC,aADf;AAELC,EAAAA,MAAM,EAAE,KAFH;AAGLC,EAAAA,iBAAiB,EAAE,KAHd;AAILC,EAAAA,KAAK,EAAEC,yBAAWC,MAAX,CAAkB;AAACC,IAAAA,QAAQ,EAAEZ,OAAO,CAACK,GAAR,CAAYQ;AAAvB,GAAlB;AAJF,CAAT,CADJ,E,CAUA;AACA;AACA;AACA;;AAGAlB,GAAG,CAACG,GAAJ,CAAQgB,6BAAR;AACAnB,GAAG,CAACG,GAAJ,CAAQ,GAAR,EAAaiB,sBAAb;AACApB,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiBkB,sBAAjB;AACArB,GAAG,CAACG,GAAJ,CAAQ,SAAR,EAAmBmB,uBAAnB;eAEetB,G","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\","sourcesContent":["import express from \"express\";\r\nimport morgan from \"morgan\";\r\nimport session from \"express-session\";\r\nimport MongoStore from \"connect-mongo\";\r\nimport rootRouter from \"./routers/rootRouter\";\r\nimport userRouter from \"./routers/userRouter\";\r\nimport videoRouter from \"./routers/videoRouter\";\r\nimport { localsMiddleware } from \"./middlewares\";\r\n\r\nconst app = express();\r\nconst logger = morgan(\"dev\");\r\n\r\napp.set(\"view engine\", \"pug\");\r\napp.use(\"/uploads\", express.static(\"uploads\"));\r\napp.use(\"/assets\", express.static(\"assets\"));\r\napp.set(\"views\", process.cwd() + \"/src/views\");\r\napp.use(logger);\r\napp.use(express.urlencoded({extended: true}));\r\n\r\napp.use(\r\n    session ({\r\n        secret: process.env.COOKIE_SECRET,\r\n        resave: false,\r\n        saveUninitialized: false,   \r\n        store: MongoStore.create({mongoUrl: process.env.DB_URL}),\r\n    })\r\n);\r\n\r\n\r\n// session middleware\r\n// session middlewar will remember everybody who comes to my website, even if they don't login\r\n// session middleware will give text to my browser. then browser could remember who comes to my website indivisualy.\r\n// then, browser will give cookie to my backend\r\n\r\n\r\napp.use(localsMiddleware);\r\napp.use(\"/\", rootRouter);\r\napp.use(\"/user\", userRouter);\r\napp.use(\"/videos\", videoRouter);\r\n\r\nexport default app"]}},"mtime":1652840674059},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\globalRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _videoController = require(\"../controllers/videoController\");\n\nvar _userController = require(\"../controllers/userController\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar globalRouter = _express[\"default\"].Router();\n\nglobalRouter.get(\"/\", _videoController.home);\nglobalRouter.get(\"/join\", _userController.join);\nglobalRouter.get(\"/login\", _userController.login);\nglobalRouter.get(\"/search\", _videoController.search);\nvar _default = globalRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbFJvdXRlci5qcyJdLCJuYW1lcyI6WyJnbG9iYWxSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaG9tZSIsImpvaW4iLCJsb2dpbiIsInNlYXJjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxvQkFBUUMsTUFBUixFQUFyQjs7QUFFQUYsWUFBWSxDQUFDRyxHQUFiLENBQWlCLEdBQWpCLEVBQXNCQyxxQkFBdEI7QUFDQUosWUFBWSxDQUFDRyxHQUFiLENBQWlCLE9BQWpCLEVBQTBCRSxvQkFBMUI7QUFDQUwsWUFBWSxDQUFDRyxHQUFiLENBQWlCLFFBQWpCLEVBQTJCRyxxQkFBM0I7QUFDQU4sWUFBWSxDQUFDRyxHQUFiLENBQWlCLFNBQWpCLEVBQTRCSSx1QkFBNUI7ZUFFZVAsWSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHBoZ3N0XFxEb2N1bWVudHNcXEdpdEh1Ylxcd2V0dWJlXFxzcmNcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7IGhvbWUsIHNlYXJjaH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3ZpZGVvQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBqb2luLCBsb2dpbiB9IGZyb20gXCIuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlclwiO1xyXG5cclxuY29uc3QgZ2xvYmFsUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmdsb2JhbFJvdXRlci5nZXQoXCIvXCIsIGhvbWUpO1xyXG5nbG9iYWxSb3V0ZXIuZ2V0KFwiL2pvaW5cIiwgam9pbik7XHJcbmdsb2JhbFJvdXRlci5nZXQoXCIvbG9naW5cIiwgbG9naW4pO1xyXG5nbG9iYWxSb3V0ZXIuZ2V0KFwiL3NlYXJjaFwiLCBzZWFyY2gpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2xvYmFsUm91dGVyOyJdfQ==","map":{"version":3,"sources":["globalRouter.js"],"names":["globalRouter","express","Router","get","home","join","login","search"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,YAAY,GAAGC,oBAAQC,MAAR,EAArB;;AAEAF,YAAY,CAACG,GAAb,CAAiB,GAAjB,EAAsBC,qBAAtB;AACAJ,YAAY,CAACG,GAAb,CAAiB,OAAjB,EAA0BE,oBAA1B;AACAL,YAAY,CAACG,GAAb,CAAiB,QAAjB,EAA2BG,qBAA3B;AACAN,YAAY,CAACG,GAAb,CAAiB,SAAjB,EAA4BI,uBAA5B;eAEeP,Y","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\routers\\","sourcesContent":["import express from \"express\";\r\nimport { home, search} from \"../controllers/videoController\";\r\nimport { join, login } from \"../controllers/userController\";\r\n\r\nconst globalRouter = express.Router();\r\n\r\nglobalRouter.get(\"/\", home);\r\nglobalRouter.get(\"/join\", join);\r\nglobalRouter.get(\"/login\", login);\r\nglobalRouter.get(\"/search\", search);\r\n\r\nexport default globalRouter;"]}},"mtime":1651648728755},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userController = require(\"../controllers/userController\");\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar userRouter = _express[\"default\"].Router();\n\nuserRouter.route(\"/edit-profile\").all(_middlewares.protectorMiddleware).get(_userController.getEdit).post(_middlewares.avatarUpload.single(\"avatar\"), _userController.postEdit);\nuserRouter.get(\"/github/start\", _middlewares.publicOnlyMiddleware, _userController.startGithubLogin);\nuserRouter.get(\"/github/finish\", _middlewares.publicOnlyMiddleware, _userController.finishGithubLogin);\nuserRouter.get(\"/logout\", _middlewares.protectorMiddleware, _userController.logout);\nuserRouter.route(\"/change-password\").all(_middlewares.protectorMiddleware).get(_userController.getChangePassword).post(_userController.postChangePassword);\nuserRouter.get(\"/:id\", _userController.see);\nvar _default = userRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyb3V0ZSIsImFsbCIsInByb3RlY3Rvck1pZGRsZXdhcmUiLCJnZXQiLCJnZXRFZGl0IiwicG9zdCIsImF2YXRhclVwbG9hZCIsInNpbmdsZSIsInBvc3RFZGl0IiwicHVibGljT25seU1pZGRsZXdhcmUiLCJzdGFydEdpdGh1YkxvZ2luIiwiZmluaXNoR2l0aHViTG9naW4iLCJsb2dvdXQiLCJnZXRDaGFuZ2VQYXNzd29yZCIsInBvc3RDaGFuZ2VQYXNzd29yZCIsInNlZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsVUFBVSxHQUFHQyxvQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxLQUFYLENBQWlCLGVBQWpCLEVBQWtDQyxHQUFsQyxDQUFzQ0MsZ0NBQXRDLEVBQTJEQyxHQUEzRCxDQUErREMsdUJBQS9ELEVBQXdFQyxJQUF4RSxDQUE2RUMsMEJBQWFDLE1BQWIsQ0FBb0IsUUFBcEIsQ0FBN0UsRUFBNEdDLHdCQUE1RztBQUNBWCxVQUFVLENBQUNNLEdBQVgsQ0FBZSxlQUFmLEVBQWdDTSxpQ0FBaEMsRUFBc0RDLGdDQUF0RDtBQUNBYixVQUFVLENBQUNNLEdBQVgsQ0FBZSxnQkFBZixFQUFpQ00saUNBQWpDLEVBQXVERSxpQ0FBdkQ7QUFDQWQsVUFBVSxDQUFDTSxHQUFYLENBQWUsU0FBZixFQUEwQkQsZ0NBQTFCLEVBQWdEVSxzQkFBaEQ7QUFDQWYsVUFBVSxDQUFDRyxLQUFYLENBQWlCLGtCQUFqQixFQUFxQ0MsR0FBckMsQ0FBeUNDLGdDQUF6QyxFQUE4REMsR0FBOUQsQ0FBa0VVLGlDQUFsRSxFQUFxRlIsSUFBckYsQ0FBMEZTLGtDQUExRjtBQUNBakIsVUFBVSxDQUFDTSxHQUFYLENBQWUsTUFBZixFQUF1QlksbUJBQXZCO2VBR2VsQixVIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xccm91dGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHsgZ2V0RWRpdCwgcG9zdEVkaXQsIHNlZSwgbG9nb3V0LCBzdGFydEdpdGh1YkxvZ2luLCBmaW5pc2hHaXRodWJMb2dpbiwgZ2V0Q2hhbmdlUGFzc3dvcmQsIHBvc3RDaGFuZ2VQYXNzd29yZCB9IGZyb20gXCIuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBwcm90ZWN0b3JNaWRkbGV3YXJlLCBwdWJsaWNPbmx5TWlkZGxld2FyZSwgYXZhdGFyVXBsb2FkfSBmcm9tIFwiLi4vbWlkZGxld2FyZXNcIjtcclxuXHJcbmNvbnN0IHVzZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxudXNlclJvdXRlci5yb3V0ZShcIi9lZGl0LXByb2ZpbGVcIikuYWxsKHByb3RlY3Rvck1pZGRsZXdhcmUpLmdldChnZXRFZGl0KS5wb3N0KGF2YXRhclVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIiksIHBvc3RFZGl0KTtcclxudXNlclJvdXRlci5nZXQoXCIvZ2l0aHViL3N0YXJ0XCIsIHB1YmxpY09ubHlNaWRkbGV3YXJlLCBzdGFydEdpdGh1YkxvZ2luKTtcclxudXNlclJvdXRlci5nZXQoXCIvZ2l0aHViL2ZpbmlzaFwiLCBwdWJsaWNPbmx5TWlkZGxld2FyZSwgZmluaXNoR2l0aHViTG9naW4pO1xyXG51c2VyUm91dGVyLmdldChcIi9sb2dvdXRcIiwgcHJvdGVjdG9yTWlkZGxld2FyZSwgIGxvZ291dCk7XHJcbnVzZXJSb3V0ZXIucm91dGUoXCIvY2hhbmdlLXBhc3N3b3JkXCIpLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKS5nZXQoZ2V0Q2hhbmdlUGFzc3dvcmQpLnBvc3QocG9zdENoYW5nZVBhc3N3b3JkKTtcclxudXNlclJvdXRlci5nZXQoXCIvOmlkXCIsIHNlZSk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXX0=","map":{"version":3,"sources":["userRouter.js"],"names":["userRouter","express","Router","route","all","protectorMiddleware","get","getEdit","post","avatarUpload","single","postEdit","publicOnlyMiddleware","startGithubLogin","finishGithubLogin","logout","getChangePassword","postChangePassword","see"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,UAAU,GAAGC,oBAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,KAAX,CAAiB,eAAjB,EAAkCC,GAAlC,CAAsCC,gCAAtC,EAA2DC,GAA3D,CAA+DC,uBAA/D,EAAwEC,IAAxE,CAA6EC,0BAAaC,MAAb,CAAoB,QAApB,CAA7E,EAA4GC,wBAA5G;AACAX,UAAU,CAACM,GAAX,CAAe,eAAf,EAAgCM,iCAAhC,EAAsDC,gCAAtD;AACAb,UAAU,CAACM,GAAX,CAAe,gBAAf,EAAiCM,iCAAjC,EAAuDE,iCAAvD;AACAd,UAAU,CAACM,GAAX,CAAe,SAAf,EAA0BD,gCAA1B,EAAgDU,sBAAhD;AACAf,UAAU,CAACG,KAAX,CAAiB,kBAAjB,EAAqCC,GAArC,CAAyCC,gCAAzC,EAA8DC,GAA9D,CAAkEU,iCAAlE,EAAqFR,IAArF,CAA0FS,kCAA1F;AACAjB,UAAU,CAACM,GAAX,CAAe,MAAf,EAAuBY,mBAAvB;eAGelB,U","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\routers\\","sourcesContent":["import express from \"express\";\r\nimport { getEdit, postEdit, see, logout, startGithubLogin, finishGithubLogin, getChangePassword, postChangePassword } from \"../controllers/userController\";\r\nimport { protectorMiddleware, publicOnlyMiddleware, avatarUpload} from \"../middlewares\";\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.route(\"/edit-profile\").all(protectorMiddleware).get(getEdit).post(avatarUpload.single(\"avatar\"), postEdit);\r\nuserRouter.get(\"/github/start\", publicOnlyMiddleware, startGithubLogin);\r\nuserRouter.get(\"/github/finish\", publicOnlyMiddleware, finishGithubLogin);\r\nuserRouter.get(\"/logout\", protectorMiddleware,  logout);\r\nuserRouter.route(\"/change-password\").all(protectorMiddleware).get(getChangePassword).post(postChangePassword);\r\nuserRouter.get(\"/:id\", see);\r\n\r\n\r\nexport default userRouter;"]}},"mtime":1652802228299},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\videoRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _videoController = require(\"../controllers/videoController\");\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar videoRouter = _express[\"default\"].Router();\n\nvideoRouter.route(\"/upload\").all(_middlewares.protectorMiddleware).get(_videoController.getUpload).post(_middlewares.videoUpload.single(\"video\"), _videoController.postUpload);\nvideoRouter.get(\"/:id([0-9a-f]{24})\", _videoController.watch);\nvideoRouter.route(\"/:id([0-9a-f]{24})/edit\").all(_middlewares.protectorMiddleware).get(_videoController.getEdit).post(_videoController.postEdit);\nvideoRouter.route(\"/:id([0-9a-f]{24})/delete\").all(_middlewares.protectorMiddleware).get(_videoController.deleteVideo);\nvar _default = videoRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvUm91dGVyLmpzIl0sIm5hbWVzIjpbInZpZGVvUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInJvdXRlIiwiYWxsIiwicHJvdGVjdG9yTWlkZGxld2FyZSIsImdldCIsImdldFVwbG9hZCIsInBvc3QiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInBvc3RVcGxvYWQiLCJ3YXRjaCIsImdldEVkaXQiLCJwb3N0RWRpdCIsImRlbGV0ZVZpZGVvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxXQUFXLEdBQUdDLG9CQUFRQyxNQUFSLEVBQXBCOztBQUVBRixXQUFXLENBQUNHLEtBQVosQ0FBa0IsU0FBbEIsRUFBNkJDLEdBQTdCLENBQWlDQyxnQ0FBakMsRUFBc0RDLEdBQXRELENBQTBEQywwQkFBMUQsRUFBcUVDLElBQXJFLENBQTBFQyx5QkFBWUMsTUFBWixDQUFtQixPQUFuQixDQUExRSxFQUF1R0MsMkJBQXZHO0FBQ0FYLFdBQVcsQ0FBQ00sR0FBWixDQUFnQixvQkFBaEIsRUFBc0NNLHNCQUF0QztBQUNBWixXQUFXLENBQUNHLEtBQVosQ0FBa0IseUJBQWxCLEVBQTZDQyxHQUE3QyxDQUFpREMsZ0NBQWpELEVBQXNFQyxHQUF0RSxDQUEwRU8sd0JBQTFFLEVBQW1GTCxJQUFuRixDQUF3Rk0seUJBQXhGO0FBQ0FkLFdBQVcsQ0FBQ0csS0FBWixDQUFrQiwyQkFBbEIsRUFBK0NDLEdBQS9DLENBQW1EQyxnQ0FBbkQsRUFBd0VDLEdBQXhFLENBQTRFUyw0QkFBNUU7ZUFFZWYsVyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHBoZ3N0XFxEb2N1bWVudHNcXEdpdEh1Ylxcd2V0dWJlXFxzcmNcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7IHdhdGNoLCBnZXRFZGl0LCBwb3N0RWRpdCwgZ2V0VXBsb2FkLCBwb3N0VXBsb2FkLCBkZWxldGVWaWRlbyB9IGZyb20gXCIuLi9jb250cm9sbGVycy92aWRlb0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgcHJvdGVjdG9yTWlkZGxld2FyZSwgcHVibGljT25seU1pZGRsZXdhcmUsIHZpZGVvVXBsb2FkIH0gZnJvbSBcIi4uL21pZGRsZXdhcmVzXCI7XHJcblxyXG5jb25zdCB2aWRlb1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG52aWRlb1JvdXRlci5yb3V0ZShcIi91cGxvYWRcIikuYWxsKHByb3RlY3Rvck1pZGRsZXdhcmUpLmdldChnZXRVcGxvYWQpLnBvc3QodmlkZW9VcGxvYWQuc2luZ2xlKFwidmlkZW9cIiksIHBvc3RVcGxvYWQpO1xyXG52aWRlb1JvdXRlci5nZXQoXCIvOmlkKFswLTlhLWZdezI0fSlcIiwgd2F0Y2gpO1xyXG52aWRlb1JvdXRlci5yb3V0ZShcIi86aWQoWzAtOWEtZl17MjR9KS9lZGl0XCIpLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKS5nZXQoZ2V0RWRpdCkucG9zdChwb3N0RWRpdCk7XHJcbnZpZGVvUm91dGVyLnJvdXRlKFwiLzppZChbMC05YS1mXXsyNH0pL2RlbGV0ZVwiKS5hbGwocHJvdGVjdG9yTWlkZGxld2FyZSkuZ2V0KGRlbGV0ZVZpZGVvKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHZpZGVvUm91dGVyOyJdfQ==","map":{"version":3,"sources":["videoRouter.js"],"names":["videoRouter","express","Router","route","all","protectorMiddleware","get","getUpload","post","videoUpload","single","postUpload","watch","getEdit","postEdit","deleteVideo"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,WAAW,GAAGC,oBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,KAAZ,CAAkB,SAAlB,EAA6BC,GAA7B,CAAiCC,gCAAjC,EAAsDC,GAAtD,CAA0DC,0BAA1D,EAAqEC,IAArE,CAA0EC,yBAAYC,MAAZ,CAAmB,OAAnB,CAA1E,EAAuGC,2BAAvG;AACAX,WAAW,CAACM,GAAZ,CAAgB,oBAAhB,EAAsCM,sBAAtC;AACAZ,WAAW,CAACG,KAAZ,CAAkB,yBAAlB,EAA6CC,GAA7C,CAAiDC,gCAAjD,EAAsEC,GAAtE,CAA0EO,wBAA1E,EAAmFL,IAAnF,CAAwFM,yBAAxF;AACAd,WAAW,CAACG,KAAZ,CAAkB,2BAAlB,EAA+CC,GAA/C,CAAmDC,gCAAnD,EAAwEC,GAAxE,CAA4ES,4BAA5E;eAEef,W","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\routers\\","sourcesContent":["import express from \"express\";\r\nimport { watch, getEdit, postEdit, getUpload, postUpload, deleteVideo } from \"../controllers/videoController\";\r\nimport { protectorMiddleware, publicOnlyMiddleware, videoUpload } from \"../middlewares\";\r\n\r\nconst videoRouter = express.Router();\r\n\r\nvideoRouter.route(\"/upload\").all(protectorMiddleware).get(getUpload).post(videoUpload.single(\"video\"), postUpload);\r\nvideoRouter.get(\"/:id([0-9a-f]{24})\", watch);\r\nvideoRouter.route(\"/:id([0-9a-f]{24})/edit\").all(protectorMiddleware).get(getEdit).post(postEdit);\r\nvideoRouter.route(\"/:id([0-9a-f]{24})/delete\").all(protectorMiddleware).get(deleteVideo);\r\n\r\nexport default videoRouter;"]}},"mtime":1652757452544},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\controllers\\\\videoController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.watch = exports.search = exports.postUpload = exports.postEdit = exports.home = exports.getUpload = exports.getEdit = exports.deleteVideo = void 0;\n\nvar _Video = _interopRequireDefault(require(\"../models/Video\"));\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar home = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var videos;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _Video[\"default\"].find({});\n\n          case 2:\n            videos = _context.sent;\n            return _context.abrupt(\"return\", res.render(\"home\", {\n              pageName: \"Home\",\n              videos: videos\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function home(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.home = home;\n\nvar watch = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var id, video;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            id = req.params.id;\n            _context2.next = 3;\n            return _Video[\"default\"].findById(id).populate(\"owner\");\n\n          case 3:\n            video = _context2.sent;\n\n            if (video) {\n              _context2.next = 6;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", res.render(\"404\", {\n              pageName: \"Video not found.\"\n            }));\n\n          case 6:\n            return _context2.abrupt(\"return\", res.render(\"watch\", {\n              pageName: video.title,\n              video: video\n            }));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function watch(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.watch = watch;\n\nvar getEdit = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var id, _id, video;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            id = req.params.id;\n            _id = req.session.user._id;\n            _context3.next = 4;\n            return _Video[\"default\"].findById(id);\n\n          case 4:\n            video = _context3.sent;\n\n            if (video) {\n              _context3.next = 7;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", res.status(404).render(\"404\", {\n              pageName: \"Video not fuound.\"\n            }));\n\n          case 7:\n            if (!(String(video.owner) !== _id)) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", res.status(403).redirect(\"/\"));\n\n          case 9:\n            return _context3.abrupt(\"return\", res.render(\"edit\", {\n              pageName: \"Edit \".concat(video.title),\n              video: video\n            }));\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getEdit(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.getEdit = getEdit;\n\nvar postEdit = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var _id, id, _req$body, title, description, hashtags, video, myVideo;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _id = req.session.user._id;\n            id = req.params.id;\n            _req$body = req.body, title = _req$body.title, description = _req$body.description, hashtags = _req$body.hashtags;\n            _context4.next = 5;\n            return _Video[\"default\"].exists({\n              _id: id\n            });\n\n          case 5:\n            video = _context4.sent;\n            _context4.next = 8;\n            return _Video[\"default\"].findById(id);\n\n          case 8:\n            myVideo = _context4.sent;\n\n            if (video) {\n              _context4.next = 11;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", res.status(404).res.render(\"404\", {\n              pageName: \"Video not found.\"\n            }));\n\n          case 11:\n            if (!(String(myVideo.owner) !== _id)) {\n              _context4.next = 13;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", res.status(403).redirect(\"/\"));\n\n          case 13:\n            _context4.next = 15;\n            return _Video[\"default\"].findByIdAndUpdate(id, {\n              title: title,\n              description: description,\n              hashtags: _Video[\"default\"].formatHashtags(hashtags)\n            });\n\n          case 15:\n            return _context4.abrupt(\"return\", res.redirect(\"/videos/\".concat(id)));\n\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function postEdit(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.postEdit = postEdit;\n\nvar getUpload = function getUpload(req, res) {\n  return res.render(\"upload\", {\n    pageName: \"Upload Video\"\n  });\n};\n\nexports.getUpload = getUpload;\n\nvar postUpload = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var _id, file, _req$body2, title, hashtags, description, newVideo, user;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _id = req.session.user._id;\n            file = req.file;\n            _req$body2 = req.body, title = _req$body2.title, hashtags = _req$body2.hashtags, description = _req$body2.description;\n            _context5.prev = 3;\n            _context5.next = 6;\n            return _Video[\"default\"].create({\n              title: title,\n              description: description,\n              fileUrl: file.path,\n              owner: _id,\n              hashtags: _Video[\"default\"].formatHashtags(hashtags)\n            });\n\n          case 6:\n            newVideo = _context5.sent;\n            _context5.next = 9;\n            return _User[\"default\"].findById(_id);\n\n          case 9:\n            user = _context5.sent;\n            user.videos.push(newVideo._id);\n            user.save();\n            return _context5.abrupt(\"return\", res.redirect(\"/\"));\n\n          case 15:\n            _context5.prev = 15;\n            _context5.t0 = _context5[\"catch\"](3);\n            return _context5.abrupt(\"return\", res.status(404).render(\"upload\", {\n              pageName: \"Upload Video\",\n              errorMessage: \"error!\"\n            }));\n\n          case 18:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[3, 15]]);\n  }));\n\n  return function postUpload(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexports.postUpload = postUpload;\n\nvar deleteVideo = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n    var id, _id, video;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            id = req.params.id;\n            _id = req.session.user._id;\n            _context6.next = 4;\n            return _Video[\"default\"].findById(id);\n\n          case 4:\n            video = _context6.sent;\n\n            if (video) {\n              _context6.next = 7;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", res.status(404).res.render(\"404\", {\n              pageName: \"Video not found.\"\n            }));\n\n          case 7:\n            if (!(String(video.owner) !== _id)) {\n              _context6.next = 9;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", res.status(403).redirect(\"/\"));\n\n          case 9:\n            _context6.next = 11;\n            return _Video[\"default\"].findByIdAndDelete(id);\n\n          case 11:\n            return _context6.abrupt(\"return\", res.redirect(\"/\"));\n\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function deleteVideo(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexports.deleteVideo = deleteVideo;\n\nvar search = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n    var keyword, videos;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            keyword = req.query.keyword;\n            videos = [];\n\n            if (!keyword) {\n              _context7.next = 6;\n              break;\n            }\n\n            _context7.next = 5;\n            return _Video[\"default\"].find({\n              title: {\n                $regex: new RegExp(keyword, \"i\")\n              }\n            });\n\n          case 5:\n            videos = _context7.sent;\n\n          case 6:\n            return _context7.abrupt(\"return\", res.render(\"search\", {\n              pageName: \"Search\",\n              videos: videos\n            }));\n\n          case 7:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function search(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nexports.search = search;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJob21lIiwicmVxIiwicmVzIiwiVmlkZW8iLCJmaW5kIiwidmlkZW9zIiwicmVuZGVyIiwicGFnZU5hbWUiLCJ3YXRjaCIsImlkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsInZpZGVvIiwidGl0bGUiLCJnZXRFZGl0IiwiX2lkIiwic2Vzc2lvbiIsInVzZXIiLCJzdGF0dXMiLCJTdHJpbmciLCJvd25lciIsInJlZGlyZWN0IiwicG9zdEVkaXQiLCJib2R5IiwiZGVzY3JpcHRpb24iLCJoYXNodGFncyIsImV4aXN0cyIsIm15VmlkZW8iLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImZvcm1hdEhhc2h0YWdzIiwiZ2V0VXBsb2FkIiwicG9zdFVwbG9hZCIsImZpbGUiLCJjcmVhdGUiLCJmaWxlVXJsIiwicGF0aCIsIm5ld1ZpZGVvIiwiVXNlciIsInB1c2giLCJzYXZlIiwiZXJyb3JNZXNzYWdlIiwiZGVsZXRlVmlkZW8iLCJmaW5kQnlJZEFuZERlbGV0ZSIsInNlYXJjaCIsImtleXdvcmQiLCJxdWVyeSIsIiRyZWdleCIsIlJlZ0V4cCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUVPLElBQU1BLElBQUk7QUFBQSxxRUFBRyxpQkFBTUMsR0FBTixFQUFXQyxHQUFYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBQ0tDLGtCQUFNQyxJQUFOLENBQVcsRUFBWCxDQURMOztBQUFBO0FBQ1ZDLFlBQUFBLE1BRFU7QUFBQSw2Q0FFVEgsR0FBRyxDQUFDSSxNQUFKLENBQVcsTUFBWCxFQUFtQjtBQUFDQyxjQUFBQSxRQUFRLEVBQUUsTUFBWDtBQUFtQkYsY0FBQUEsTUFBTSxFQUFOQTtBQUFuQixhQUFuQixDQUZTOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQUg7O0FBQUEsa0JBQUpMLElBQUk7QUFBQTtBQUFBO0FBQUEsR0FB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QTs7QUFBQTtBQUFBLG1CQUlDMUMsa0JBQU1DLElBQU4sQ0FBVztBQUN0QlUsY0FBQUEsS0FBSyxFQUFFO0FBQ0hpQyxnQkFBQUEsTUFBTSxFQUFFLElBQUlDLE1BQUosQ0FBV0gsT0FBWCxFQUFvQixHQUFwQjtBQURMO0FBRGUsYUFBWCxDQUpEOztBQUFBO0FBSWR4QyxZQUFBQSxNQUpjOztBQUFBO0FBQUEsOENBVVhILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLFFBQVgsRUFBcUI7QUFBQ0MsY0FBQUEsUUFBUSxFQUFFLFFBQVg7QUFBcUJGLGNBQUFBLE1BQU0sRUFBTkE7QUFBckIsYUFBckIsQ0FWVzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFIOztBQUFBLGtCQUFOdUMsTUFBTTtBQUFBO0FBQUE7QUFBQSxHQUFaIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWRlbyBmcm9tIFwiLi4vbW9kZWxzL1ZpZGVvXCI7XHJcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhvbWUgPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdmlkZW9zID0gYXdhaXQgVmlkZW8uZmluZCh7fSk7XHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcihcImhvbWVcIiwge3BhZ2VOYW1lOiBcIkhvbWVcIiwgdmlkZW9zLH0pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgd2F0Y2ggPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlby5maW5kQnlJZChpZCkucG9wdWxhdGUoXCJvd25lclwiKTtcclxuICAgIGlmKCF2aWRlbykge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKFwiNDA0XCIsIHtwYWdlTmFtZTogXCJWaWRlbyBub3QgZm91bmQuXCJ9KTsgXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcihcIndhdGNoXCIsIHtwYWdlTmFtZTogdmlkZW8udGl0bGUsIHZpZGVvfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRFZGl0ID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9cmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHtcclxuICAgICAgICB1c2VyOiB7X2lkfSxcclxuICAgIH0gPSByZXEuc2Vzc2lvbjtcclxuICAgIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQoaWQpO1xyXG4gICAgaWYoIXZpZGVvKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5yZW5kZXIoXCI0MDRcIiwge3BhZ2VOYW1lOiBcIlZpZGVvIG5vdCBmdW91bmQuXCJ9KTtcclxuICAgIH1cclxuICAgIGlmKFN0cmluZyh2aWRlby5vd25lcikgIT09IF9pZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykucmVkaXJlY3QoXCIvXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoXCJlZGl0XCIsIHtwYWdlTmFtZTogYEVkaXQgJHt2aWRlby50aXRsZX1gLCB2aWRlbywgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwb3N0RWRpdCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgdXNlcjoge19pZH0sXHJcbiAgICB9ID0gcmVxLnNlc3Npb247XHJcbiAgICBjb25zdCB7aWR9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBoYXNodGFncyB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvLmV4aXN0cyh7X2lkOmlkfSk7IFxyXG4gICAgY29uc3QgbXlWaWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKGlkKTtcclxuXHJcbiAgICBpZighdmlkZW8pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnJlcy5yZW5kZXIoXCI0MDRcIiwge3BhZ2VOYW1lOiBcIlZpZGVvIG5vdCBmb3VuZC5cIn0pOyBcclxuICAgIH1cclxuICAgICBpZihTdHJpbmcobXlWaWRlby5vd25lcikgIT09IF9pZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykucmVkaXJlY3QoXCIvXCIpO1xyXG4gICAgfVxyXG4gICAgYXdhaXQgVmlkZW8uZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHtcclxuICAgICAgICB0aXRsZSxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBoYXNodGFnczogVmlkZW8uZm9ybWF0SGFzaHRhZ3MoaGFzaHRhZ3MpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgL3ZpZGVvcy8ke2lkfWApO1xyXG59XHJcbmV4cG9ydCBjb25zdCBnZXRVcGxvYWQgPSAocmVxLCByZXMpID0+IHsgICBcclxuICAgIHJldHVybiByZXMucmVuZGVyKFwidXBsb2FkXCIsIHtwYWdlTmFtZTogYFVwbG9hZCBWaWRlb2AsIH0pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcG9zdFVwbG9hZCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcjoge19pZH19ID0gcmVxLnNlc3Npb247XHJcbiAgICBjb25zdCBmaWxlID0gcmVxLmZpbGU7XHJcbiAgICBjb25zdCB7dGl0bGUsIGhhc2h0YWdzLCBkZXNjcmlwdGlvbiB9ID0gcmVxLmJvZHk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG5ld1ZpZGVvID0gYXdhaXQgVmlkZW8uY3JlYXRlKHtcclxuICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBmaWxlVXJsOiBmaWxlLnBhdGgsXHJcbiAgICAgICAgICAgIG93bmVyOiBfaWQsXHJcbiAgICAgICAgICAgIGhhc2h0YWdzOiBWaWRlby5mb3JtYXRIYXNodGFncyhoYXNodGFncyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoX2lkKTtcclxuICAgICAgICB1c2VyLnZpZGVvcy5wdXNoKG5ld1ZpZGVvLl9pZCk7XHJcbiAgICAgICAgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XHJcbiAgICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVuZGVyKFwidXBsb2FkXCIsXHJcbiAgICAgICAgIHtwYWdlTmFtZTogXCJVcGxvYWQgVmlkZW9cIixcclxuICAgICAgICAgZXJyb3JNZXNzYWdlOiBcImVycm9yIVwifSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVWaWRlbyA9IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgdXNlcjoge19pZH0sXHJcbiAgICB9ID0gcmVxLnNlc3Npb247XHJcbiAgICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKGlkKTtcclxuICAgIGlmKCF2aWRlbykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVzLnJlbmRlcihcIjQwNFwiLCB7cGFnZU5hbWU6IFwiVmlkZW8gbm90IGZvdW5kLlwifSk7IFxyXG4gICAgfVxyXG4gICAgaWYoU3RyaW5nKHZpZGVvLm93bmVyKSAhPT0gX2lkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5yZWRpcmVjdChcIi9cIik7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBWaWRlby5maW5kQnlJZEFuZERlbGV0ZShpZCk7XHJcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaCA9IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHsga2V5d29yZCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgbGV0IHZpZGVvcyA9IFtdO1xyXG4gICAgaWYgKGtleXdvcmQpIHtcclxuICAgICAgICB2aWRlb3MgPSBhd2FpdCBWaWRlby5maW5kKHtcclxuICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICRyZWdleDogbmV3IFJlZ0V4cChrZXl3b3JkLCBcImlcIiksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcihcInNlYXJjaFwiLCB7cGFnZU5hbWU6IFwiU2VhcmNoXCIsIHZpZGVvc30pO1xyXG59O1xyXG5cclxuIl19","map":{"version":3,"sources":["videoController.js"],"names":["home","req","res","Video","find","videos","render","pageName","watch","id","params","findById","populate","video","title","getEdit","_id","session","user","status","String","owner","redirect","postEdit","body","description","hashtags","exists","myVideo","findByIdAndUpdate","formatHashtags","getUpload","postUpload","file","create","fileUrl","path","newVideo","User","push","save","errorMessage","deleteVideo","findByIdAndDelete","search","keyword","query","$regex","RegExp"],"mappings":"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","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\controllers\\","sourcesContent":["import Video from \"../models/Video\";\r\nimport User from \"../models/User\";\r\n\r\nexport const home = async(req, res) => {\r\n    const videos = await Video.find({});\r\n    return res.render(\"home\", {pageName: \"Home\", videos,});\r\n}\r\n\r\nexport const watch = async (req, res) => {\r\n    const {id} = req.params;\r\n    const video = await Video.findById(id).populate(\"owner\");\r\n    if(!video) {\r\n        return res.render(\"404\", {pageName: \"Video not found.\"}); \r\n    }\r\n    return res.render(\"watch\", {pageName: video.title, video});\r\n}\r\n\r\nexport const getEdit = async(req, res) => {\r\n    const { id } =req.params;\r\n    const {\r\n        user: {_id},\r\n    } = req.session;\r\n    const video = await Video.findById(id);\r\n    if(!video) {\r\n        return res.status(404).render(\"404\", {pageName: \"Video not fuound.\"});\r\n    }\r\n    if(String(video.owner) !== _id) {\r\n        return res.status(403).redirect(\"/\");\r\n    }\r\n    return res.render(\"edit\", {pageName: `Edit ${video.title}`, video, });\r\n}\r\n\r\nexport const postEdit = async(req, res) => {\r\n    const {\r\n        user: {_id},\r\n    } = req.session;\r\n    const {id} = req.params;\r\n    const { title, description, hashtags } = req.body;\r\n    const video = await Video.exists({_id:id}); \r\n    const myVideo = await Video.findById(id);\r\n\r\n    if(!video) {\r\n        return res.status(404).res.render(\"404\", {pageName: \"Video not found.\"}); \r\n    }\r\n     if(String(myVideo.owner) !== _id) {\r\n        return res.status(403).redirect(\"/\");\r\n    }\r\n    await Video.findByIdAndUpdate(id, {\r\n        title,\r\n        description,\r\n        hashtags: Video.formatHashtags(hashtags),\r\n    });\r\n\r\n    return res.redirect(`/videos/${id}`);\r\n}\r\nexport const getUpload = (req, res) => {   \r\n    return res.render(\"upload\", {pageName: `Upload Video`, });\r\n}\r\n\r\nexport const postUpload = async(req, res) => {\r\n    const {user: {_id}} = req.session;\r\n    const file = req.file;\r\n    const {title, hashtags, description } = req.body;\r\n    try {\r\n        const newVideo = await Video.create({\r\n            title,\r\n            description,\r\n            fileUrl: file.path,\r\n            owner: _id,\r\n            hashtags: Video.formatHashtags(hashtags),\r\n        });\r\n        const user = await User.findById(_id);\r\n        user.videos.push(newVideo._id);\r\n        user.save();\r\n        return res.redirect(\"/\");\r\n        \r\n    } catch (error) {\r\n        return res.status(404).render(\"upload\",\r\n         {pageName: \"Upload Video\",\r\n         errorMessage: \"error!\"});\r\n    }\r\n}\r\n\r\nexport const deleteVideo = async(req,res) => {\r\n    const { id } = req.params;\r\n    const {\r\n        user: {_id},\r\n    } = req.session;\r\n    const video = await Video.findById(id);\r\n    if(!video) {\r\n        return res.status(404).res.render(\"404\", {pageName: \"Video not found.\"}); \r\n    }\r\n    if(String(video.owner) !== _id) {\r\n        return res.status(403).redirect(\"/\");\r\n    }\r\n    await Video.findByIdAndDelete(id);\r\n    return res.redirect(\"/\");\r\n}\r\n\r\nexport const search = async(req,res) => {\r\n    const { keyword } = req.query;\r\n    let videos = [];\r\n    if (keyword) {\r\n        videos = await Video.find({\r\n            title: {\r\n                $regex: new RegExp(keyword, \"i\"),\r\n            },\r\n        });\r\n    }\r\n    return res.render(\"search\", {pageName: \"Search\", videos});\r\n};\r\n\r\n"]}},"mtime":1652824153375},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\controllers\\\\userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startGithubLogin = exports.see = exports.postLogin = exports.postJoin = exports.postEdit = exports.postChangePassword = exports.logout = exports.getLogin = exports.getJoin = exports.getEdit = exports.getChangePassword = exports.finishGithubLogin = void 0;\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _Video = _interopRequireDefault(require(\"../models/Video\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar getJoin = function getJoin(req, res) {\n  res.render(\"join\", {\n    pageName: \"Join\"\n  });\n};\n\nexports.getJoin = getJoin;\n\nvar postJoin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var _req$body, name, username, email, password, password2, location, pageName, usernameExists, emailExists;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _req$body = req.body, name = _req$body.name, username = _req$body.username, email = _req$body.email, password = _req$body.password, password2 = _req$body.password2, location = _req$body.location;\n            pageName = \"Join\";\n\n            if (!(password !== password2)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", res.status(400).render(\"join\", {\n              pageName: pageName,\n              errorMessage: \"Password confirmation does not match.\"\n            }));\n\n          case 4:\n            ;\n            _context.next = 7;\n            return _User[\"default\"].exists({\n              username: username\n            });\n\n          case 7:\n            usernameExists = _context.sent;\n\n            if (!usernameExists) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", res.status(400).render(\"join\", {\n              pageName: pageName,\n              errorMessage: \"This username is already taken.\"\n            }));\n\n          case 10:\n            ;\n            _context.next = 13;\n            return _User[\"default\"].exists({\n              email: email\n            });\n\n          case 13:\n            emailExists = _context.sent;\n\n            if (!emailExists) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt(\"return\", res.status(400).render(\"join\", {\n              pageName: pageName,\n              errorMessage: \"This email is already taken.\"\n            }));\n\n          case 16:\n            ;\n            _context.prev = 17;\n            _context.next = 20;\n            return _User[\"default\"].create({\n              name: name,\n              username: username,\n              email: email,\n              password: password,\n              password2: password2,\n              location: location\n            });\n\n          case 20:\n            return _context.abrupt(\"return\", res.redirect(\"/login\"));\n\n          case 23:\n            _context.prev = 23;\n            _context.t0 = _context[\"catch\"](17);\n            return _context.abrupt(\"return\", res.status(400).render(\"join\", {\n              pageName: pageName,\n              errorMessage: _context.t0._message\n            }));\n\n          case 26:\n            ;\n\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[17, 23]]);\n  }));\n\n  return function postJoin(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.postJoin = postJoin;\n\nvar getLogin = function getLogin(req, res) {\n  return res.render(\"login\", {\n    pageName: \"Login\"\n  });\n};\n\nexports.getLogin = getLogin;\n\nvar postLogin = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var _req$body2, username, password, user, pageName, ok;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _req$body2 = req.body, username = _req$body2.username, password = _req$body2.password;\n            _context2.next = 3;\n            return _User[\"default\"].findOne({\n              username: username,\n              socialOnly: false\n            });\n\n          case 3:\n            user = _context2.sent;\n            pageName = \"Login\";\n\n            if (user) {\n              _context2.next = 7;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", res.status(400).render(\"login\", {\n              pageName: pageName,\n              errorMessage: \"An account withe this username does not exists.\"\n            }));\n\n          case 7:\n            _context2.next = 9;\n            return _bcrypt[\"default\"].compare(password, user.password);\n\n          case 9:\n            ok = _context2.sent;\n\n            if (ok) {\n              _context2.next = 12;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", res.status(400).render(\"login\", {\n              pageName: pageName,\n              errorMessage: \"Wrong password\"\n            }));\n\n          case 12:\n            ;\n            req.session.loggedIn = true;\n            req.session.user = user;\n            return _context2.abrupt(\"return\", res.redirect(\"/\"));\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function postLogin(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.postLogin = postLogin;\n\nvar startGithubLogin = function startGithubLogin(req, res) {\n  var baseUrl = \"https://github.com/login/oauth/authorize\";\n  var config = {\n    client_id: process.env.GH_CLIENT,\n    scope: \"read:user user:email\"\n  };\n  var params = new URLSearchParams(config).toString();\n  var finalUrl = \"\".concat(baseUrl, \"?\").concat(params);\n  return res.redirect(finalUrl);\n};\n\nexports.startGithubLogin = startGithubLogin;\n\nvar finishGithubLogin = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var baseUrl, config, params, finalUrl, tokenRequest, access_token, apiURL, userData, emailData, emailObj, user, _user;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            baseUrl = \"https://github.com/login/oauth/access_token\";\n            config = {\n              client_id: process.env.GH_CLIENT,\n              client_secret: process.env.GH_SECRET,\n              code: req.query.code\n            };\n            params = new URLSearchParams(config).toString();\n            finalUrl = \"\".concat(baseUrl, \"?\").concat(params);\n            _context3.next = 6;\n            return (0, _nodeFetch[\"default\"])(finalUrl, {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\"\n              }\n            });\n\n          case 6:\n            _context3.next = 8;\n            return _context3.sent.json();\n\n          case 8:\n            tokenRequest = _context3.sent;\n\n            if (!(\"access_token\" in tokenRequest)) {\n              _context3.next = 38;\n              break;\n            }\n\n            access_token = tokenRequest.access_token;\n            apiURL = \"https://api.github.com\";\n            _context3.next = 14;\n            return (0, _nodeFetch[\"default\"])(\"\".concat(apiURL, \"/user\"), {\n              headers: {\n                Authorization: \"token \".concat(access_token)\n              }\n            });\n\n          case 14:\n            _context3.next = 16;\n            return _context3.sent.json();\n\n          case 16:\n            userData = _context3.sent;\n            _context3.next = 19;\n            return (0, _nodeFetch[\"default\"])(\"\".concat(apiURL, \"/user/emails\"), {\n              headers: {\n                Authorization: \"token \".concat(access_token)\n              }\n            });\n\n          case 19:\n            _context3.next = 21;\n            return _context3.sent.json();\n\n          case 21:\n            emailData = _context3.sent;\n            emailObj = emailData.find(function (email) {\n              return email.primary === true && email.verified === true;\n            });\n\n            if (emailObj) {\n              _context3.next = 25;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", res.redirect(\"/login\"));\n\n          case 25:\n            _context3.next = 27;\n            return _User[\"default\"].findOne({\n              email: emailObj.email\n            });\n\n          case 27:\n            user = _context3.sent;\n\n            if (user) {\n              _context3.next = 32;\n              break;\n            }\n\n            _context3.next = 31;\n            return _User[\"default\"].create({\n              avatarUrl: userData.avatar_url,\n              name: userData.name,\n              username: userData.login,\n              email: emailObj.email,\n              password: \"\",\n              socialOnly: true,\n              location: userData.location\n            });\n\n          case 31:\n            _user = _context3.sent;\n\n          case 32:\n            ;\n            req.session.loggedIn = true;\n            req.session.user = user;\n            return _context3.abrupt(\"return\", res.redirect(\"/\"));\n\n          case 38:\n            return _context3.abrupt(\"return\", res.redirect(\"/login\"));\n\n          case 39:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function finishGithubLogin(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.finishGithubLogin = finishGithubLogin;\n\nvar getEdit = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", res.render(\"edit-profile\", {\n              pageName: \"Edit Profile\"\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getEdit(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.getEdit = getEdit;\n\nvar postEdit = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var _req$session$user, _id, avatarUrl, _req$body3, name, email, username, location, file, updateUser;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _req$session$user = req.session.user, _id = _req$session$user._id, avatarUrl = _req$session$user.avatarUrl, _req$body3 = req.body, name = _req$body3.name, email = _req$body3.email, username = _req$body3.username, location = _req$body3.location, file = req.file;\n            _context5.next = 3;\n            return _User[\"default\"].findByIdAndUpdate(_id, {\n              avatarUrl: file ? file.path : avatarUrl,\n              name: name,\n              email: email,\n              username: username,\n              location: location\n            }, {\n              \"new\": true\n            });\n\n          case 3:\n            updateUser = _context5.sent;\n            req.session.user = updateUser;\n            return _context5.abrupt(\"return\", res.redirect(\"edit-profile\"));\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function postEdit(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexports.postEdit = postEdit;\n\nvar logout = function logout(req, res) {\n  req.session.destroy();\n  return res.redirect(\"/\");\n};\n\nexports.logout = logout;\n\nvar getChangePassword = function getChangePassword(req, res) {\n  if (req.session.user.socialOnly === true) {\n    return res.redirect(\"/\");\n  }\n\n  return res.render(\"change-password\", {\n    pageName: \"Change Password\"\n  });\n};\n\nexports.getChangePassword = getChangePassword;\n\nvar postChangePassword = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n    var _req$session$user2, _id, password, _req$body4, oldPassword, newPassword, newPasswordConfirm, ok, user;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _req$session$user2 = req.session.user, _id = _req$session$user2._id, password = _req$session$user2.password, _req$body4 = req.body, oldPassword = _req$body4.oldPassword, newPassword = _req$body4.newPassword, newPasswordConfirm = _req$body4.newPasswordConfirm;\n            _context6.next = 3;\n            return _bcrypt[\"default\"].compare(oldPassword, password);\n\n          case 3:\n            ok = _context6.sent;\n\n            if (ok) {\n              _context6.next = 6;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", res.status(400).render(\"change-password\", {\n              pageName: \"Change Password\",\n              errorMessage: \"The password is incorrect\"\n            }));\n\n          case 6:\n            if (!(newPassword !== newPasswordConfirm)) {\n              _context6.next = 8;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", res.status(400).render(\"change-password\", {\n              pageName: \"Change Password\",\n              errorMessage: \"The password does not match\"\n            }));\n\n          case 8:\n            _context6.next = 10;\n            return _User[\"default\"].findById(_id);\n\n          case 10:\n            user = _context6.sent;\n            user.password = newPassword;\n            _context6.next = 14;\n            return user.save();\n\n          case 14:\n            req.session.user.password = user.password;\n            return _context6.abrupt(\"return\", res.redirect(\"/user/logout\"));\n\n          case 16:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function postChangePassword(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexports.postChangePassword = postChangePassword;\n\nvar see = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n    var id, user;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            id = req.params.id;\n            _context7.next = 3;\n            return _User[\"default\"].findById(id).populate(\"videos\");\n\n          case 3:\n            user = _context7.sent;\n\n            if (user) {\n              _context7.next = 6;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", res.status(404).render(\"404\", {\n              pageName: \"User not found.\"\n            }));\n\n          case 6:\n            return _context7.abrupt(\"return\", res.render(\"profile\", {\n              pageName: user.name,\n              user: user\n            }));\n\n          case 7:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function see(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nexports.see = see;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImdldEpvaW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJwYWdlTmFtZSIsInBvc3RKb2luIiwiYm9keSIsIm5hbWUiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZDIiLCJsb2NhdGlvbiIsInN0YXR1cyIsImVycm9yTWVzc2FnZSIsIlVzZXIiLCJleGlzdHMiLCJ1c2VybmFtZUV4aXN0cyIsImVtYWlsRXhpc3RzIiwiY3JlYXRlIiwicmVkaXJlY3QiLCJfbWVzc2FnZSIsImdldExvZ2luIiwicG9zdExvZ2luIiwiZmluZE9uZSIsInNvY2lhbE9ubHkiLCJ1c2VyIiwiYmNyeXB0IiwiY29tcGFyZSIsIm9rIiwic2Vzc2lvbiIsImxvZ2dlZEluIiwic3RhcnRHaXRodWJMb2dpbiIsImJhc2VVcmwiLCJjb25maWciLCJjbGllbnRfaWQiLCJwcm9jZXNzIiwiZW52IiwiR0hfQ0xJRU5UIiwic2NvcGUiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsImZpbmFsVXJsIiwiZmluaXNoR2l0aHViTG9naW4iLCJjbGllbnRfc2VjcmV0IiwiR0hfU0VDUkVUIiwiY29kZSIsInF1ZXJ5IiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsImpzb24iLCJ0b2tlblJlcXVlc3QiLCJhY2Nlc3NfdG9rZW4iLCJhcGlVUkwiLCJBdXRob3JpemF0aW9uIiwidXNlckRhdGEiLCJlbWFpbERhdGEiLCJlbWFpbE9iaiIsImZpbmQiLCJwcmltYXJ5IiwidmVyaWZpZWQiLCJhdmF0YXJVcmwiLCJhdmF0YXJfdXJsIiwibG9naW4iLCJnZXRFZGl0IiwicG9zdEVkaXQiLCJfaWQiLCJmaWxlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJwYXRoIiwidXBkYXRlVXNlciIsImxvZ291dCIsImRlc3Ryb3kiLCJnZXRDaGFuZ2VQYXNzd29yZCIsInBvc3RDaGFuZ2VQYXNzd29yZCIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJuZXdQYXNzd29yZENvbmZpcm0iLCJmaW5kQnlJZCIsInNhdmUiLCJzZWUiLCJpZCIsInBvcHVsYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBR08sSUFBTUEsT0FBTyxHQUFHLFNBQVZBLE9BQVUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDakNBLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLE1BQVgsRUFBbUI7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBbkI7QUFDSCxDQUZNOzs7O0FBR0EsSUFBTUMsUUFBUTtBQUFBLHFFQUFHLGlCQUFNSixHQUFOLEVBQVdDLEdBQVg7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHdCQUMyQ0QsR0FBRyxDQUFDSyxJQUQvQyxFQUNiQyxJQURhLGFBQ2JBLElBRGEsRUFDUEMsUUFETyxhQUNQQSxRQURPLEVBQ0dDLEtBREgsYUFDR0EsS0FESCxFQUNVQyxRQURWLGFBQ1VBLFFBRFYsRUFDb0JDLFNBRHBCLGFBQ29CQSxTQURwQixFQUMrQkMsUUFEL0IsYUFDK0JBLFFBRC9CO0FBRWRSLFlBQUFBLFFBRmMsR0FFSCxNQUZHOztBQUFBLGtCQUdoQk0sUUFBUSxLQUFLQyxTQUhHO0FBQUE7QUFBQTtBQUFBOztBQUFBLDZDQUlUVCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCVixNQUFoQixDQUF1QixNQUF2QixFQUErQjtBQUNsQ0MsY0FBQUEsUUFBUSxFQUFSQSxRQURrQztBQUVsQ1UsY0FBQUEsWUFBWSxFQUFFO0FBRm9CLGFBQS9CLENBSlM7O0FBQUE7QUFRbkI7QUFSbUI7QUFBQSxtQkFTU0MsaUJBQUtDLE1BQUwsQ0FBWTtBQUFDUixjQUFBQSxRQUFRLEVBQVJBO0FBQUQsYUFBWixDQVRUOztBQUFBO0FBU2RTLFlBQUFBLGNBVGM7O0FBQUEsaUJBVWpCQSxjQVZpQjtBQUFBO0FBQUE7QUFBQTs7QUFBQSw2Q0FXVGYsR0FBRyxD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QUFBO0FBQUEsR0FBeEI7Ozs7QUF3QkEsSUFBTU0sR0FBRztBQUFBLHNFQUFHLGtCQUFPakYsR0FBUCxFQUFZQyxHQUFaO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNSaUYsWUFBQUEsRUFEUSxHQUNGbEYsR0FBRyxDQUFDdUMsTUFERixDQUNSMkMsRUFEUTtBQUFBO0FBQUEsbUJBRUlwRSxpQkFBS2lFLFFBQUwsQ0FBY0csRUFBZCxFQUFrQkMsUUFBbEIsQ0FBMkIsUUFBM0IsQ0FGSjs7QUFBQTtBQUVUMUQsWUFBQUEsSUFGUzs7QUFBQSxnQkFHWEEsSUFIVztBQUFBO0FBQUE7QUFBQTs7QUFBQSw4Q0FJSnhCLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JWLE1BQWhCLENBQXVCLEtBQXZCLEVBQThCO0FBQUNDLGNBQUFBLFFBQVEsRUFBRTtBQUFYLGFBQTlCLENBSkk7O0FBQUE7QUFBQSw4Q0FNUkYsR0FBRyxDQUFDQyxNQUFKLENBQVcsU0FBWCxFQUFzQjtBQUN6QkMsY0FBQUEsUUFBUSxFQUFHc0IsSUFBSSxDQUFDbkIsSUFEUztBQUV6Qm1CLGNBQUFBLElBQUksRUFBSkE7QUFGeUIsYUFBdEIsQ0FOUTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFIOztBQUFBLGtCQUFId0QsR0FBRztBQUFBO0FBQUE7QUFBQSxHQUFUIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgVmlkZW8gZnJvbSBcIi4uL21vZGVscy9WaWRlb1wiO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0IGZldGNoIGZyb20gXCJub2RlLWZldGNoXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEpvaW4gPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoXCJqb2luXCIsIHsgcGFnZU5hbWU6IFwiSm9pblwiIH0pXHJcbn07XHJcbmV4cG9ydCBjb25zdCBwb3N0Sm9pbiA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7bmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcGFzc3dvcmQyLCBsb2NhdGlvbn0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHBhZ2VOYW1lID0gXCJKb2luXCI7XHJcbiAgICBpZiAocGFzc3dvcmQgIT09IHBhc3N3b3JkMikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwiam9pblwiLCB7XHJcbiAgICAgICAgICAgIHBhZ2VOYW1lLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwiUGFzc3dvcmQgY29uZmlybWF0aW9uIGRvZXMgbm90IG1hdGNoLlwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVzZXJuYW1lRXhpc3RzID0gYXdhaXQgVXNlci5leGlzdHMoe3VzZXJuYW1lfSk7XHJcbiAgICBpZih1c2VybmFtZUV4aXN0cyl7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJqb2luXCIsIHtcclxuICAgICAgICAgICAgcGFnZU5hbWUsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJUaGlzIHVzZXJuYW1lIGlzIGFscmVhZHkgdGFrZW4uXCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBlbWFpbEV4aXN0cyA9IGF3YWl0IFVzZXIuZXhpc3RzKHtlbWFpbH0pO1xyXG4gICAgaWYoZW1haWxFeGlzdHMpe1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwiam9pblwiLCB7XHJcbiAgICAgICAgICAgIHBhZ2VOYW1lLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwiVGhpcyBlbWFpbCBpcyBhbHJlYWR5IHRha2VuLlwiXHJcbiAgICAgICAgfSk7ICAgIFxyXG4gICAgfTtcclxuICAgIHRyeXtcclxuICAgICAgICBhd2FpdCBVc2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG5hbWUsIFxyXG4gICAgICAgICAgICB1c2VybmFtZSwgXHJcbiAgICAgICAgICAgIGVtYWlsLCBcclxuICAgICAgICAgICAgcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkMiwgXHJcbiAgICAgICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvbG9naW5cIik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwiam9pblwiLCB7XHJcbiAgICAgICAgICAgIHBhZ2VOYW1lLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLl9tZXNzYWdlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMb2dpbiA9IChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcImxvZ2luXCIsIHtwYWdlTmFtZTogXCJMb2dpblwifSk7XHJcblxyXG5leHBvcnQgY29uc3QgcG9zdExvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7dXNlcm5hbWUsIHNvY2lhbE9ubHk6IGZhbHNlfSk7XHJcbiAgICBjb25zdCBwYWdlTmFtZSA9IFwiTG9naW5cIjtcclxuICAgIGlmKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJsb2dpblwiLCB7XHJcbiAgICAgICAgICAgIHBhZ2VOYW1lLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwiQW4gYWNjb3VudCB3aXRoZSB0aGlzIHVzZXJuYW1lIGRvZXMgbm90IGV4aXN0cy5cIixcclxuICAgICAgICB9KTtcclxuICAgIH0gICAgXHJcbiAgICBjb25zdCBvayA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgIGlmKCFvaykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwibG9naW5cIiwge1xyXG4gICAgICAgICAgICBwYWdlTmFtZSxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIldyb25nIHBhc3N3b3JkXCIsXHJcbiAgICAgICAgfSk7ICAgIFxyXG4gICAgfTtcclxuICAgIHJlcS5zZXNzaW9uLmxvZ2dlZEluID0gdHJ1ZTtcclxuICAgIHJlcS5zZXNzaW9uLnVzZXIgPSB1c2VyO1xyXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3RhcnRHaXRodWJMb2dpbiA9IChyZXEsIHJlcykgPT57XHJcbiAgICBjb25zdCBiYXNlVXJsID0gXCJodHRwczovL2dpdGh1Yi5jb20vbG9naW4vb2F1dGgvYXV0aG9yaXplXCI7XHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgY2xpZW50X2lkOiBwcm9jZXNzLmVudi5HSF9DTElFTlQsXHJcbiAgICAgICAgc2NvcGU6IFwicmVhZDp1c2VyIHVzZXI6ZW1haWxcIiBcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoY29uZmlnKS50b1N0cmluZygpO1xyXG4gICAgY29uc3QgZmluYWxVcmwgPSBgJHtiYXNlVXJsfT8ke3BhcmFtc31gO1xyXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChmaW5hbFVybCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZmluaXNoR2l0aHViTG9naW4gPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgYmFzZVVybCA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2xvZ2luL29hdXRoL2FjY2Vzc190b2tlblwiO1xyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIGNsaWVudF9pZDogcHJvY2Vzcy5lbnYuR0hfQ0xJRU5ULFxyXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LkdIX1NFQ1JFVCxcclxuICAgICAgICBjb2RlOiByZXEucXVlcnkuY29kZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGNvbmZpZykudG9TdHJpbmcoKTtcclxuICAgIGNvbnN0IGZpbmFsVXJsID0gYCR7YmFzZVVybH0/JHtwYXJhbXN9YDtcclxuICAgIGNvbnN0IHRva2VuUmVxdWVzdCA9IGF3YWl0IChcclxuICAgICAgICBhd2FpdCBmZXRjaChmaW5hbFVybCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgKS5qc29uKCk7XHJcbiAgICBpZiAoXCJhY2Nlc3NfdG9rZW5cIiBpbiB0b2tlblJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCB7YWNjZXNzX3Rva2VufSA9IHRva2VuUmVxdWVzdDtcclxuICAgICAgICBjb25zdCBhcGlVUkwgPSBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb21cIjtcclxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFxyXG4gICAgICAgIChhd2FpdCBmZXRjaChgJHthcGlVUkx9L3VzZXJgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc190b2tlbn1gLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgKS5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgZW1haWxEYXRhID0gYXdhaXRcclxuICAgICAgICAoYXdhaXQgZmV0Y2goYCR7YXBpVVJMfS91c2VyL2VtYWlsc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYHRva2VuICR7YWNjZXNzX3Rva2VufWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkpLmpzb24oKTtcclxuICAgICAgICBjb25zdCBlbWFpbE9iaiA9IGVtYWlsRGF0YS5maW5kKFxyXG4gICAgICAgICAgICAoZW1haWwpID0+IGVtYWlsLnByaW1hcnkgPT09IHRydWUgJiYgZW1haWwudmVyaWZpZWQgPT09IHRydWVcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmKCFlbWFpbE9iail7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvbG9naW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDogZW1haWxPYmouZW1haWx9KTtcclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIGF2YXRhclVybDogdXNlckRhdGEuYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgICAgIG5hbWUgOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJEYXRhLmxvZ2luLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsT2JqLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFwiXCIsIFxyXG4gICAgICAgICAgICAgICAgc29jaWFsT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB1c2VyRGF0YS5sb2NhdGlvbiwgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSl9O1xyXG4gICAgICAgICAgICByZXEuc2Vzc2lvbi5sb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHJlcS5zZXNzaW9uLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxuIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL2xvZ2luXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEVkaXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHJldHVybiByZXMucmVuZGVyKFwiZWRpdC1wcm9maWxlXCIsIHtwYWdlTmFtZTogXCJFZGl0IFByb2ZpbGVcIn0pXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcG9zdEVkaXQgPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHNlc3Npb246IHtcclxuICAgICAgICAgICAgdXNlcjoge19pZCwgYXZhdGFyVXJsIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiB7IG5hbWUsIGVtYWlsLCB1c2VybmFtZSwgbG9jYXRpb24gfSxcclxuICAgICAgICBmaWxlLFxyXG4gICAgfSA9IHJlcTtcclxuICAgIGNvbnN0IHVwZGF0ZVVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKF9pZCwge1xyXG4gICAgICAgIGF2YXRhclVybDogZmlsZSA/IGZpbGUucGF0aCA6IGF2YXRhclVybCwgICAgICAgIFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgbG9jYXRpb24sXHJcbiAgICB9LFxyXG4gICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuICAgIHJlcS5zZXNzaW9uLnVzZXIgPSB1cGRhdGVVc2VyO1xyXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcImVkaXQtcHJvZmlsZVwiKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKTtcclxuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvXCIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldENoYW5nZVBhc3N3b3JkID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBpZiAocmVxLnNlc3Npb24udXNlci5zb2NpYWxPbmx5ID09PSB0cnVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcihcImNoYW5nZS1wYXNzd29yZFwiLCB7cGFnZU5hbWU6IFwiQ2hhbmdlIFBhc3N3b3JkXCJ9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3N0Q2hhbmdlUGFzc3dvcmQgPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHNlc3Npb246IHtcclxuICAgICAgICAgICAgdXNlcjoge19pZCwgcGFzc3dvcmQgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IHsgb2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm0gfSxcclxuICAgIH0gPSByZXE7XHJcbiAgICBjb25zdCBvayA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKG9sZFBhc3N3b3JkLCBwYXNzd29yZCk7XHJcbiAgICBpZighb2spICB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJjaGFuZ2UtcGFzc3dvcmRcIiwge3BhZ2VOYW1lOiBcIkNoYW5nZSBQYXNzd29yZFwiLFxyXG4gICAgICAgICBlcnJvck1lc3NhZ2U6IFwiVGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdFwifSk7XHJcbiAgICB9XHJcbiAgICBpZihuZXdQYXNzd29yZCAhPT0gbmV3UGFzc3dvcmRDb25maXJtKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJjaGFuZ2UtcGFzc3dvcmRcIiwge3BhZ2VOYW1lOiBcIkNoYW5nZSBQYXNzd29yZFwiLFxyXG4gICAgICAgICBlcnJvck1lc3NhZ2U6IFwiVGhlIHBhc3N3b3JkIGRvZXMgbm90IG1hdGNoXCJ9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKF9pZCk7XHJcbiAgICB1c2VyLnBhc3N3b3JkID0gbmV3UGFzc3dvcmQ7XHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIHJlcS5zZXNzaW9uLnVzZXIucGFzc3dvcmQgPSB1c2VyLnBhc3N3b3JkXHJcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL3VzZXIvbG9nb3V0XCIpO1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpLnBvcHVsYXRlKFwidmlkZW9zXCIpO1xyXG4gICAgaWYoIXVzZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnJlbmRlcihcIjQwNFwiLCB7cGFnZU5hbWU6IFwiVXNlciBub3QgZm91bmQuXCJ9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMucmVuZGVyKFwicHJvZmlsZVwiLCB7XHJcbiAgICAgICAgcGFnZU5hbWUgOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgdXNlcixcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbiJdfQ==","map":{"version":3,"sources":["userController.js"],"names":["getJoin","req","res","render","pageName","postJoin","body","name","username","email","password","password2","location","status","errorMessage","User","exists","usernameExists","emailExists","create","redirect","_message","getLogin","postLogin","findOne","socialOnly","user","bcrypt","compare","ok","session","loggedIn","startGithubLogin","baseUrl","config","client_id","process","env","GH_CLIENT","scope","params","URLSearchParams","toString","finalUrl","finishGithubLogin","client_secret","GH_SECRET","code","query","method","headers","Accept","json","tokenRequest","access_token","apiURL","Authorization","userData","emailData","emailObj","find","primary","verified","avatarUrl","avatar_url","login","getEdit","postEdit","_id","file","findByIdAndUpdate","path","updateUser","logout","destroy","getChangePassword","postChangePassword","oldPassword","newPassword","newPasswordConfirm","findById","save","see","id","populate"],"mappings":"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","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\controllers\\","sourcesContent":["import User from \"../models/User\";\r\nimport Video from \"../models/Video\";\r\nimport bcrypt from \"bcrypt\";\r\nimport fetch from \"node-fetch\";\r\n\r\n\r\nexport const getJoin = (req, res) => {\r\n    res.render(\"join\", { pageName: \"Join\" })\r\n};\r\nexport const postJoin = async(req, res) => {\r\n    const {name, username, email, password, password2, location} = req.body;\r\n    const pageName = \"Join\";\r\n    if (password !== password2) {\r\n        return res.status(400).render(\"join\", {\r\n            pageName,\r\n            errorMessage: \"Password confirmation does not match.\",\r\n        });\r\n    };\r\n    const usernameExists = await User.exists({username});\r\n    if(usernameExists){\r\n        return res.status(400).render(\"join\", {\r\n            pageName,\r\n            errorMessage: \"This username is already taken.\"\r\n        });\r\n    };\r\n    const emailExists = await User.exists({email});\r\n    if(emailExists){\r\n        return res.status(400).render(\"join\", {\r\n            pageName,\r\n            errorMessage: \"This email is already taken.\"\r\n        });    \r\n    };\r\n    try{\r\n        await User.create({\r\n            name, \r\n            username, \r\n            email, \r\n            password,\r\n            password2, \r\n            location,\r\n        });\r\n        return res.redirect(\"/login\");\r\n    } catch (error) {\r\n        return res.status(400).render(\"join\", {\r\n            pageName,\r\n            errorMessage: error._message,\r\n        });\r\n    };\r\n};\r\n\r\nexport const getLogin = (req, res) => res.render(\"login\", {pageName: \"Login\"});\r\n\r\nexport const postLogin = async (req, res) => {\r\n    const {username, password} = req.body;\r\n    const user = await User.findOne({username, socialOnly: false});\r\n    const pageName = \"Login\";\r\n    if(!user) {\r\n        return res.status(400).render(\"login\", {\r\n            pageName,\r\n            errorMessage: \"An account withe this username does not exists.\",\r\n        });\r\n    }    \r\n    const ok = await bcrypt.compare(password, user.password);\r\n    if(!ok) {\r\n        return res.status(400).render(\"login\", {\r\n            pageName,\r\n            errorMessage: \"Wrong password\",\r\n        });    \r\n    };\r\n    req.session.loggedIn = true;\r\n    req.session.user = user;\r\n    return res.redirect(\"/\");\r\n};\r\n\r\nexport const startGithubLogin = (req, res) =>{\r\n    const baseUrl = \"https://github.com/login/oauth/authorize\";\r\n    const config = {\r\n        client_id: process.env.GH_CLIENT,\r\n        scope: \"read:user user:email\" \r\n    }\r\n    const params = new URLSearchParams(config).toString();\r\n    const finalUrl = `${baseUrl}?${params}`;\r\n    return res.redirect(finalUrl);\r\n};\r\n\r\nexport const finishGithubLogin = async(req, res) => {\r\n    const baseUrl = \"https://github.com/login/oauth/access_token\";\r\n    const config = {\r\n        client_id: process.env.GH_CLIENT,\r\n        client_secret: process.env.GH_SECRET,\r\n        code: req.query.code,\r\n    };\r\n    const params = new URLSearchParams(config).toString();\r\n    const finalUrl = `${baseUrl}?${params}`;\r\n    const tokenRequest = await (\r\n        await fetch(finalUrl, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n        },\r\n    })\r\n    ).json();\r\n    if (\"access_token\" in tokenRequest) {\r\n        const {access_token} = tokenRequest;\r\n        const apiURL = \"https://api.github.com\";\r\n        const userData = await \r\n        (await fetch(`${apiURL}/user`, {\r\n            headers: {\r\n                Authorization: `token ${access_token}`,\r\n            },\r\n        })\r\n        ).json();\r\n        const emailData = await\r\n        (await fetch(`${apiURL}/user/emails`, {\r\n            headers: {\r\n                Authorization: `token ${access_token}`,\r\n            },\r\n        })).json();\r\n        const emailObj = emailData.find(\r\n            (email) => email.primary === true && email.verified === true\r\n        );\r\n        if(!emailObj){\r\n            return res.redirect(\"/login\");\r\n        }\r\n        let user = await User.findOne({email: emailObj.email});\r\n        if (!user) {\r\n            const user = await User.create({\r\n                avatarUrl: userData.avatar_url,\r\n                name : userData.name,\r\n                username: userData.login,\r\n                email: emailObj.email,\r\n                password: \"\", \r\n                socialOnly: true,\r\n                location: userData.location,               \r\n            })};\r\n            req.session.loggedIn = true;\r\n            req.session.user = user;\r\n            return res.redirect(\"/\");\r\n \r\n    } else {\r\n        return res.redirect(\"/login\");\r\n    }\r\n};\r\n\r\nexport const getEdit = async (req, res) => {\r\n    return res.render(\"edit-profile\", {pageName: \"Edit Profile\"})\r\n};\r\n\r\nexport const postEdit = async(req, res) => {\r\n    const {\r\n        session: {\r\n            user: {_id, avatarUrl },\r\n        },\r\n        body: { name, email, username, location },\r\n        file,\r\n    } = req;\r\n    const updateUser = await User.findByIdAndUpdate(_id, {\r\n        avatarUrl: file ? file.path : avatarUrl,        \r\n        name,\r\n        email,\r\n        username,\r\n        location,\r\n    },\r\n    { new: true }\r\n    );\r\n    req.session.user = updateUser;\r\n    return res.redirect(\"edit-profile\");\r\n};\r\n\r\nexport const logout = (req, res) => {\r\n    req.session.destroy();\r\n    return res.redirect(\"/\");\r\n};\r\n\r\nexport const getChangePassword = (req, res) => {\r\n    if (req.session.user.socialOnly === true) {\r\n        return res.redirect(\"/\");\r\n    }\r\n    return res.render(\"change-password\", {pageName: \"Change Password\"});\r\n};\r\n\r\nexport const postChangePassword = async(req, res) => {\r\n    const {\r\n        session: {\r\n            user: {_id, password },\r\n        },\r\n        body: { oldPassword, newPassword, newPasswordConfirm },\r\n    } = req;\r\n    const ok = await bcrypt.compare(oldPassword, password);\r\n    if(!ok)  {\r\n        return res.status(400).render(\"change-password\", {pageName: \"Change Password\",\r\n         errorMessage: \"The password is incorrect\"});\r\n    }\r\n    if(newPassword !== newPasswordConfirm) {\r\n        return res.status(400).render(\"change-password\", {pageName: \"Change Password\",\r\n         errorMessage: \"The password does not match\"});\r\n    }\r\n    const user = await User.findById(_id);\r\n    user.password = newPassword;\r\n    await user.save();\r\n    req.session.user.password = user.password\r\n    return res.redirect(\"/user/logout\");\r\n\r\n};\r\n\r\nexport const see = async (req, res) => {\r\n    const {id} = req.params;\r\n    const user = await User.findById(id).populate(\"videos\");\r\n    if(!user) {\r\n        return res.status(404).render(\"404\", {pageName: \"User not found.\"});\r\n    }\r\n    return res.render(\"profile\", {\r\n        pageName : user.name,\r\n        user,\r\n    });\r\n}\r\n\r\n\r\n\r\n"]}},"mtime":1652823489116},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n_mongoose[\"default\"].connect(process.env.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nvar db = _mongoose[\"default\"].connection;\n\nvar hadleOpen = function hadleOpen() {\n  return console.log(\"✔ Connected to DB\");\n};\n\ndb.on(\"error\", function (error) {\n  return console.log(\"DB error\", error);\n});\ndb.once(\"open\", hadleOpen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYiIsImNvbm5lY3Rpb24iLCJoYWRsZU9wZW4iLCJjb25zb2xlIiwibG9nIiwib24iLCJlcnJvciIsIm9uY2UiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEscUJBQVNDLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxNQUE3QixFQUFxQztBQUNqQ0MsRUFBQUEsZUFBZSxFQUFFLElBRGdCO0FBRWpDQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUZhLENBQXJDOztBQUtBLElBQU1DLEVBQUUsR0FBR1AscUJBQVNRLFVBQXBCOztBQUVBLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZO0FBQUEsU0FBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQVosQ0FBTjtBQUFBLENBQWxCOztBQUNBSixFQUFFLENBQUNLLEVBQUgsQ0FBTSxPQUFOLEVBQWUsVUFBQ0MsS0FBRDtBQUFBLFNBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVosRUFBd0JFLEtBQXhCLENBQVg7QUFBQSxDQUFmO0FBQ0FOLEVBQUUsQ0FBQ08sSUFBSCxDQUFRLE1BQVIsRUFBZ0JMLFNBQWhCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5EQl9VUkwsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBkYiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XHJcblxyXG5jb25zdCBoYWRsZU9wZW4gPSAoKSA9PiBjb25zb2xlLmxvZyhcIuKclCBDb25uZWN0ZWQgdG8gREJcIilcclxuZGIub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IGNvbnNvbGUubG9nKFwiREIgZXJyb3JcIiwgZXJyb3IpKTtcclxuZGIub25jZShcIm9wZW5cIiwgaGFkbGVPcGVuKTtcclxuXHJcbiJdfQ==","map":{"version":3,"sources":["db.js"],"names":["mongoose","connect","process","env","DB_URL","useNewUrlParser","useUnifiedTopology","db","connection","hadleOpen","console","log","on","error","once"],"mappings":";;AAAA;;;;AAEAA,qBAASC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,MAA7B,EAAqC;AACjCC,EAAAA,eAAe,EAAE,IADgB;AAEjCC,EAAAA,kBAAkB,EAAE;AAFa,CAArC;;AAKA,IAAMC,EAAE,GAAGP,qBAASQ,UAApB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAMC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAN;AAAA,CAAlB;;AACAJ,EAAE,CAACK,EAAH,CAAM,OAAN,EAAe,UAACC,KAAD;AAAA,SAAWH,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBE,KAAxB,CAAX;AAAA,CAAf;AACAN,EAAE,CAACO,IAAH,CAAQ,MAAR,EAAgBL,SAAhB","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nmongoose.connect(process.env.DB_URL, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n});\r\n\r\nconst db = mongoose.connection;\r\n\r\nconst hadleOpen = () => console.log(\"✔ Connected to DB\")\r\ndb.on(\"error\", (error) => console.log(\"DB error\", error));\r\ndb.once(\"open\", hadleOpen);\r\n\r\n"]}},"mtime":1652798926553},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\models\\\\Video.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar videoSchema = new _mongoose[\"default\"].Schema({\n  title: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  fileUrl: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  createdAt: {\n    type: Date,\n    required: false,\n    trim: true,\n    \"default\": Date.now\n  },\n  hashtags: [{\n    type: String,\n    trim: true\n  }],\n  meta: {\n    views: {\n      type: Number,\n      defalut: 0,\n      required: false\n    },\n    rating: {\n      type: Number,\n      defalut: 0,\n      required: false\n    }\n  },\n  owner: {\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    required: true,\n    ref: \"User\"\n  }\n});\nvideoSchema[\"static\"](\"formatHashtags\", function (hashtags) {\n  return hashtags.split(\",\").map(function (word) {\n    return word.startsWith(\"#\") ? word : \"#\".concat(word);\n  });\n});\n\nvar Video = _mongoose[\"default\"].model(\"Video\", videoSchema);\n\nvar _default = Video;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpZGVvLmpzIl0sIm5hbWVzIjpbInZpZGVvU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJmaWxlVXJsIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwiaGFzaHRhZ3MiLCJtZXRhIiwidmlld3MiLCJOdW1iZXIiLCJkZWZhbHV0IiwicmF0aW5nIiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic3BsaXQiLCJtYXAiLCJ3b3JkIiwic3RhcnRzV2l0aCIsIlZpZGVvIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQU1BLFdBQVcsR0FBRyxJQUFJQyxxQkFBU0MsTUFBYixDQUFvQjtBQUNwQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFLElBQTFCO0FBQWdDQyxJQUFBQSxJQUFJLEVBQUU7QUFBdEMsR0FENkI7QUFFcENDLEVBQUFBLE9BQU8sRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUYyQjtBQUdwQ0csRUFBQUEsV0FBVyxFQUFFO0FBQUVMLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFLElBQTFCO0FBQWdDQyxJQUFBQSxJQUFJLEVBQUU7QUFBdEMsR0FIdUI7QUFJcENHLEVBQUFBLFNBQVMsRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUNPLElBQVA7QUFBYUwsSUFBQUEsUUFBUSxFQUFFLEtBQXZCO0FBQThCQyxJQUFBQSxJQUFJLEVBQUUsSUFBcEM7QUFBMEMsZUFBU0ksSUFBSSxDQUFDQztBQUF4RCxHQUp5QjtBQUtwQ0MsRUFBQUEsUUFBUSxFQUFFLENBQUM7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCRSxJQUFBQSxJQUFJLEVBQUU7QUFBdEIsR0FBRCxDQUwwQjtBQU1wQ08sRUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLElBQUFBLEtBQUssRUFBRTtBQUFFWCxNQUFBQSxJQUFJLEVBQUVZLE1BQVI7QUFBZ0JDLE1BQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QlgsTUFBQUEsUUFBUSxFQUFFO0FBQXRDLEtBREw7QUFFRlksSUFBQUEsTUFBTSxFQUFFO0FBQUVkLE1BQUFBLElBQUksRUFBRVksTUFBUjtBQUFnQkMsTUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCWCxNQUFBQSxRQUFRLEVBQUU7QUFBdEM7QUFGTixHQU44QjtBQVVwQ2EsRUFBQUEsS0FBSyxFQUFFO0FBQUNmLElBQUFBLElBQUksRUFBRUgscUJBQVNDLE1BQVQsQ0FBZ0JrQixLQUFoQixDQUFzQkMsUUFBN0I7QUFBdUNmLElBQUFBLFFBQVEsRUFBRSxJQUFqRDtBQUF1RGdCLElBQUFBLEdBQUcsRUFBQztBQUEzRDtBQVY2QixDQUFwQixDQUFwQjtBQWFBdEIsV0FBVyxVQUFYLENBQW1CLGdCQUFuQixFQUFxQyxVQUFTYSxRQUFULEVBQW1CO0FBQ3BELFNBQU9BLFFBQVEsQ0FDZFUsS0FETSxDQUNBLEdBREEsRUFFTkMsR0FGTSxDQUVGLFVBQUNDLElBQUQ7QUFBQSxXQUFXQSxJQUFJLENBQUNDLFVBQUwsQ0FBZ0IsR0FBaEIsSUFBdUJELElBQXZCLGNBQWlDQSxJQUFqQyxDQUFYO0FBQUEsR0FGRSxDQUFQO0FBR0gsQ0FKRDs7QUFNQSxJQUFNRSxLQUFLLEdBQUcxQixxQkFBUzJCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCNUIsV0FBeEIsQ0FBZDs7ZUFDZTJCLEsiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxwaGdzdFxcRG9jdW1lbnRzXFxHaXRIdWJcXHdldHViZVxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHZpZGVvU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB0cmltOiB0cnVlIH0sXHJcbiAgICBmaWxlVXJsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdHJpbTogdHJ1ZSB9LFxyXG4gICAgY3JlYXRlZEF0OiB7IHR5cGU6RGF0ZSwgcmVxdWlyZWQ6IGZhbHNlLCB0cmltOiB0cnVlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gICAgaGFzaHRhZ3M6IFt7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9XSxcclxuICAgIG1ldGE6IHtcclxuICAgICAgICB2aWV3czogeyB0eXBlOiBOdW1iZXIsIGRlZmFsdXQ6IDAsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmFsdXQ6IDAsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgfSxcclxuICAgIG93bmVyOiB7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZXF1aXJlZDogdHJ1ZSwgcmVmOlwiVXNlclwifSxcclxufSk7XHJcblxyXG52aWRlb1NjaGVtYS5zdGF0aWMoXCJmb3JtYXRIYXNodGFnc1wiLCBmdW5jdGlvbihoYXNodGFncykge1xyXG4gICAgcmV0dXJuIGhhc2h0YWdzXHJcbiAgICAuc3BsaXQoXCIsXCIpXHJcbiAgICAubWFwKCh3b3JkKSA9PiAod29yZC5zdGFydHNXaXRoKFwiI1wiKSA/IHdvcmQgOmAjJHt3b3JkfWApKTtcclxufSk7XHJcblxyXG5jb25zdCBWaWRlbyA9IG1vbmdvb3NlLm1vZGVsKFwiVmlkZW9cIiwgdmlkZW9TY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBWaWRlbyJdfQ==","map":{"version":3,"sources":["Video.js"],"names":["videoSchema","mongoose","Schema","title","type","String","required","trim","fileUrl","description","createdAt","Date","now","hashtags","meta","views","Number","defalut","rating","owner","Types","ObjectId","ref","split","map","word","startsWith","Video","model"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,WAAW,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACpCC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,IAAI,EAAE;AAAtC,GAD6B;AAEpCC,EAAAA,OAAO,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAF2B;AAGpCG,EAAAA,WAAW,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,IAAI,EAAE;AAAtC,GAHuB;AAIpCG,EAAAA,SAAS,EAAE;AAAEN,IAAAA,IAAI,EAACO,IAAP;AAAaL,IAAAA,QAAQ,EAAE,KAAvB;AAA8BC,IAAAA,IAAI,EAAE,IAApC;AAA0C,eAASI,IAAI,CAACC;AAAxD,GAJyB;AAKpCC,EAAAA,QAAQ,EAAE,CAAC;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBE,IAAAA,IAAI,EAAE;AAAtB,GAAD,CAL0B;AAMpCO,EAAAA,IAAI,EAAE;AACFC,IAAAA,KAAK,EAAE;AAAEX,MAAAA,IAAI,EAAEY,MAAR;AAAgBC,MAAAA,OAAO,EAAE,CAAzB;AAA4BX,MAAAA,QAAQ,EAAE;AAAtC,KADL;AAEFY,IAAAA,MAAM,EAAE;AAAEd,MAAAA,IAAI,EAAEY,MAAR;AAAgBC,MAAAA,OAAO,EAAE,CAAzB;AAA4BX,MAAAA,QAAQ,EAAE;AAAtC;AAFN,GAN8B;AAUpCa,EAAAA,KAAK,EAAE;AAACf,IAAAA,IAAI,EAAEH,qBAASC,MAAT,CAAgBkB,KAAhB,CAAsBC,QAA7B;AAAuCf,IAAAA,QAAQ,EAAE,IAAjD;AAAuDgB,IAAAA,GAAG,EAAC;AAA3D;AAV6B,CAApB,CAApB;AAaAtB,WAAW,UAAX,CAAmB,gBAAnB,EAAqC,UAASa,QAAT,EAAmB;AACpD,SAAOA,QAAQ,CACdU,KADM,CACA,GADA,EAENC,GAFM,CAEF,UAACC,IAAD;AAAA,WAAWA,IAAI,CAACC,UAAL,CAAgB,GAAhB,IAAuBD,IAAvB,cAAiCA,IAAjC,CAAX;AAAA,GAFE,CAAP;AAGH,CAJD;;AAMA,IAAME,KAAK,GAAG1B,qBAAS2B,KAAT,CAAe,OAAf,EAAwB5B,WAAxB,CAAd;;eACe2B,K","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\models\\","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst videoSchema = new mongoose.Schema({\r\n    title: { type: String, required: true, trim: true },\r\n    fileUrl: { type: String, required: true},\r\n    description: { type: String, required: true, trim: true },\r\n    createdAt: { type:Date, required: false, trim: true, default: Date.now },\r\n    hashtags: [{ type: String, trim: true }],\r\n    meta: {\r\n        views: { type: Number, defalut: 0, required: false },\r\n        rating: { type: Number, defalut: 0, required: false },\r\n    },\r\n    owner: {type: mongoose.Schema.Types.ObjectId, required: true, ref:\"User\"},\r\n});\r\n\r\nvideoSchema.static(\"formatHashtags\", function(hashtags) {\r\n    return hashtags\r\n    .split(\",\")\r\n    .map((word) => (word.startsWith(\"#\") ? word :`#${word}`));\r\n});\r\n\r\nconst Video = mongoose.model(\"Video\", videoSchema);\r\nexport default Video"]}},"mtime":1652802133578},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\init.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv/config\");\n\nrequire(\"./db\");\n\nrequire(\"./models/Video\");\n\nrequire(\"./models/User\");\n\nvar _server = _interopRequireDefault(require(\"./server\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar PORT = 4000;\n\nvar handleListening = function handleListening() {\n  return console.log(\"\\u2714 Server Listening on port http://localhost:\".concat(PORT, \"\\uD83E\\uDDE8\"));\n};\n\n_server[\"default\"].listen(PORT, handleListening);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiXSwibmFtZXMiOlsiUE9SVCIsImhhbmRsZUxpc3RlbmluZyIsImNvbnNvbGUiLCJsb2ciLCJhcHAiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxJQUFJLEdBQUcsSUFBYjs7QUFFQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCO0FBQUEsU0FBTUMsT0FBTyxDQUFDQyxHQUFSLDREQUEyREgsSUFBM0Qsa0JBQU47QUFBQSxDQUF4Qjs7QUFFQUksbUJBQUlDLE1BQUosQ0FBV0wsSUFBWCxFQUFpQkMsZUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxwaGdzdFxcRG9jdW1lbnRzXFxHaXRIdWJcXHdldHViZVxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XHJcbmltcG9ydCBcIi4vZGJcIjtcclxuaW1wb3J0IFwiLi9tb2RlbHMvVmlkZW9cIjtcclxuaW1wb3J0IFwiLi9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgYXBwIGZyb20gXCIuL3NlcnZlclwiO1xyXG5cclxuY29uc3QgUE9SVCA9IDQwMDA7XHJcblxyXG5jb25zdCBoYW5kbGVMaXN0ZW5pbmcgPSAoKSA9PiBjb25zb2xlLmxvZyhg4pyUIFNlcnZlciBMaXN0ZW5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OiR7UE9SVH3wn6eoYCk7XHJcblxyXG5hcHAubGlzdGVuKFBPUlQsIGhhbmRsZUxpc3RlbmluZyk7Il19","map":{"version":3,"sources":["init.js"],"names":["PORT","handleListening","console","log","app","listen"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,IAAI,GAAG,IAAb;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAMC,OAAO,CAACC,GAAR,4DAA2DH,IAA3D,kBAAN;AAAA,CAAxB;;AAEAI,mBAAIC,MAAJ,CAAWL,IAAX,EAAiBC,eAAjB","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\","sourcesContent":["import \"dotenv/config\";\r\nimport \"./db\";\r\nimport \"./models/Video\";\r\nimport \"./models/User\";\r\nimport app from \"./server\";\r\n\r\nconst PORT = 4000;\r\n\r\nconst handleListening = () => console.log(`✔ Server Listening on port http://localhost:${PORT}🧨`);\r\n\r\napp.listen(PORT, handleListening);"]}},"mtime":1652381665539},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar userSchema = new _mongoose[\"default\"].Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  avatarUrl: String,\n  socialOnly: {\n    type: Boolean,\n    \"default\": false\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: String,\n  name: {\n    type: String,\n    required: true\n  },\n  location: String,\n  videos: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    ref: \"Video\"\n  }]\n});\nuserSchema.pre('save', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!this.isModified(\"password\")) {\n            _context.next = 4;\n            break;\n          }\n\n          _context.next = 3;\n          return _bcrypt[\"default\"].hash(this.password, 5);\n\n        case 3:\n          this.password = _context.sent;\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n})));\n\nvar User = _mongoose[\"default\"].model(\"User\", userSchema);\n\nvar _default = User;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJhdmF0YXJVcmwiLCJzb2NpYWxPbmx5IiwiQm9vbGVhbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJuYW1lIiwibG9jYXRpb24iLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicHJlIiwiaXNNb2RpZmllZCIsImJjcnlwdCIsImhhc2giLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxVQUFVLEdBQUcsSUFBSUMscUJBQVNDLE1BQWIsQ0FBb0I7QUFDbkNDLEVBQUFBLEtBQUssRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRDRCO0FBRW5DQyxFQUFBQSxTQUFTLEVBQUVILE1BRndCO0FBR25DSSxFQUFBQSxVQUFVLEVBQUU7QUFBQ0wsSUFBQUEsSUFBSSxFQUFFTSxPQUFQO0FBQWdCLGVBQVM7QUFBekIsR0FIdUI7QUFJbkNDLEVBQUFBLFFBQVEsRUFBRTtBQUFFUCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBSnlCO0FBS25DSyxFQUFBQSxRQUFRLEVBQUVQLE1BTHlCO0FBTW5DUSxFQUFBQSxJQUFJLEVBQUU7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FONkI7QUFPbkNRLEVBQUFBLFFBQVEsRUFBRVQsTUFQeUI7QUFRbkNVLEVBQUFBLE1BQU0sRUFBRSxDQUFDO0FBQUNYLElBQUFBLElBQUksRUFBRUgscUJBQVNDLE1BQVQsQ0FBZ0JjLEtBQWhCLENBQXNCQyxRQUE3QjtBQUF1Q0MsSUFBQUEsR0FBRyxFQUFDO0FBQTNDLEdBQUQ7QUFSMkIsQ0FBcEIsQ0FBbkI7QUFXQWxCLFVBQVUsQ0FBQ21CLEdBQVgsQ0FBZSxNQUFmLHVFQUF1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFDaEIsS0FBS0MsVUFBTCxDQUFnQixVQUFoQixDQURnQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLGlCQUVPQyxtQkFBT0MsSUFBUCxDQUFZLEtBQUtWLFFBQWpCLEVBQTJCLENBQTNCLENBRlA7O0FBQUE7QUFFZixlQUFLQSxRQUZVOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLENBQXZCOztBQU9BLElBQU1XLElBQUksR0FBR3RCLHFCQUFTdUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJ4QixVQUF2QixDQUFiOztlQUNldUIsSSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHBoZ3N0XFxEb2N1bWVudHNcXEdpdEh1Ylxcd2V0dWJlXFxzcmNcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XHJcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZX0sXHJcbiAgICBhdmF0YXJVcmw6IFN0cmluZyxcclxuICAgIHNvY2lhbE9ubHk6IHt0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZX0sXHJcbiAgICB1c2VybmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWV9LFxyXG4gICAgcGFzc3dvcmQ6IFN0cmluZyxcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBsb2NhdGlvbjogU3RyaW5nLFxyXG4gICAgdmlkZW9zOiBbe3R5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOlwiVmlkZW9cIn1dLFxyXG59KVxyXG5cclxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbigpIHtcclxuICAgIGlmKHRoaXMuaXNNb2RpZmllZChcInBhc3N3b3JkXCIpKXtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwgNSk7ICAgXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il19","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","email","type","String","required","unique","avatarUrl","socialOnly","Boolean","username","password","name","location","videos","Types","ObjectId","ref","pre","isModified","bcrypt","hash","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACnCC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GAD4B;AAEnCC,EAAAA,SAAS,EAAEH,MAFwB;AAGnCI,EAAAA,UAAU,EAAE;AAACL,IAAAA,IAAI,EAAEM,OAAP;AAAgB,eAAS;AAAzB,GAHuB;AAInCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GAJyB;AAKnCK,EAAAA,QAAQ,EAAEP,MALyB;AAMnCQ,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAN6B;AAOnCQ,EAAAA,QAAQ,EAAET,MAPyB;AAQnCU,EAAAA,MAAM,EAAE,CAAC;AAACX,IAAAA,IAAI,EAAEH,qBAASC,MAAT,CAAgBc,KAAhB,CAAsBC,QAA7B;AAAuCC,IAAAA,GAAG,EAAC;AAA3C,GAAD;AAR2B,CAApB,CAAnB;AAWAlB,UAAU,CAACmB,GAAX,CAAe,MAAf,uEAAuB;AAAA;AAAA;AAAA;AAAA;AAAA,eAChB,KAAKC,UAAL,CAAgB,UAAhB,CADgB;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAEOC,mBAAOC,IAAP,CAAY,KAAKV,QAAjB,EAA2B,CAA3B,CAFP;;AAAA;AAEf,eAAKA,QAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;;AAOA,IAAMW,IAAI,GAAGtB,qBAASuB,KAAT,CAAe,MAAf,EAAuBxB,UAAvB,CAAb;;eACeuB,I","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\models\\","sourcesContent":["import bcrypt from \"bcrypt\";\r\nimport mongoose from \"mongoose\";\r\n\r\nconst userSchema = new mongoose.Schema({\r\n    email: { type: String, required: true, unique: true},\r\n    avatarUrl: String,\r\n    socialOnly: {type: Boolean, default: false},\r\n    username: { type: String, required: true, unique: true},\r\n    password: String,\r\n    name: { type: String, required: true},\r\n    location: String,\r\n    videos: [{type: mongoose.Schema.Types.ObjectId, ref:\"Video\"}],\r\n})\r\n\r\nuserSchema.pre('save', async function() {\r\n    if(this.isModified(\"password\")){\r\n        this.password = await bcrypt.hash(this.password, 5);   \r\n    }\r\n\r\n});\r\n\r\nconst User = mongoose.model(\"User\", userSchema);\r\nexport default User;"]}},"mtime":1652822911000},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\routers\\\\rootRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _videoController = require(\"../controllers/videoController\");\n\nvar _userController = require(\"../controllers/userController\");\n\nvar _response = require(\"express/lib/response\");\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar rootRouter = _express[\"default\"].Router();\n\nrootRouter.get(\"/\", _videoController.home);\nrootRouter.route(\"/join\").all(_middlewares.publicOnlyMiddleware).get(_userController.getJoin).post(_userController.postJoin);\nrootRouter.route(\"/login\").all(_middlewares.publicOnlyMiddleware).get(_userController.getLogin).post(_userController.postLogin);\nrootRouter.get(\"/search\", _videoController.search);\nvar _default = rootRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicm9vdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJob21lIiwicm91dGUiLCJhbGwiLCJwdWJsaWNPbmx5TWlkZGxld2FyZSIsImdldEpvaW4iLCJwb3N0IiwicG9zdEpvaW4iLCJnZXRMb2dpbiIsInBvc3RMb2dpbiIsInNlYXJjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsVUFBVSxHQUFHQyxvQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQWUsR0FBZixFQUFvQkMscUJBQXBCO0FBQ0FKLFVBQVUsQ0FBQ0ssS0FBWCxDQUFpQixPQUFqQixFQUEwQkMsR0FBMUIsQ0FBOEJDLGlDQUE5QixFQUFvREosR0FBcEQsQ0FBd0RLLHVCQUF4RCxFQUFpRUMsSUFBakUsQ0FBc0VDLHdCQUF0RTtBQUNBVixVQUFVLENBQUNLLEtBQVgsQ0FBaUIsUUFBakIsRUFBMkJDLEdBQTNCLENBQStCQyxpQ0FBL0IsRUFBcURKLEdBQXJELENBQXlEUSx3QkFBekQsRUFBbUVGLElBQW5FLENBQXdFRyx5QkFBeEU7QUFDQVosVUFBVSxDQUFDRyxHQUFYLENBQWUsU0FBZixFQUEwQlUsdUJBQTFCO2VBRWViLFUiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxwaGdzdFxcRG9jdW1lbnRzXFxHaXRIdWJcXHdldHViZVxcc3JjXFxyb3V0ZXJzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBob21lLCBzZWFyY2h9IGZyb20gXCIuLi9jb250cm9sbGVycy92aWRlb0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgZ2V0Sm9pbiwgcG9zdEpvaW4sIGdldExvZ2luLCBwb3N0TG9naW4gfSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgZ2V0IH0gZnJvbSBcImV4cHJlc3MvbGliL3Jlc3BvbnNlXCI7XHJcbmltcG9ydCB7IHByb3RlY3Rvck1pZGRsZXdhcmUsIHB1YmxpY09ubHlNaWRkbGV3YXJlIH0gZnJvbSBcIi4uL21pZGRsZXdhcmVzXCI7XHJcblxyXG5jb25zdCByb290Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvb3RSb3V0ZXIuZ2V0KFwiL1wiLCBob21lKTtcclxucm9vdFJvdXRlci5yb3V0ZShcIi9qb2luXCIpLmFsbChwdWJsaWNPbmx5TWlkZGxld2FyZSkuZ2V0KGdldEpvaW4pLnBvc3QocG9zdEpvaW4pO1xyXG5yb290Um91dGVyLnJvdXRlKFwiL2xvZ2luXCIpLmFsbChwdWJsaWNPbmx5TWlkZGxld2FyZSkuZ2V0KGdldExvZ2luKS5wb3N0KHBvc3RMb2dpbik7XHJcbnJvb3RSb3V0ZXIuZ2V0KFwiL3NlYXJjaFwiLCBzZWFyY2gpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm9vdFJvdXRlcjsiXX0=","map":{"version":3,"sources":["rootRouter.js"],"names":["rootRouter","express","Router","get","home","route","all","publicOnlyMiddleware","getJoin","post","postJoin","getLogin","postLogin","search"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,UAAU,GAAGC,oBAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,GAAX,CAAe,GAAf,EAAoBC,qBAApB;AACAJ,UAAU,CAACK,KAAX,CAAiB,OAAjB,EAA0BC,GAA1B,CAA8BC,iCAA9B,EAAoDJ,GAApD,CAAwDK,uBAAxD,EAAiEC,IAAjE,CAAsEC,wBAAtE;AACAV,UAAU,CAACK,KAAX,CAAiB,QAAjB,EAA2BC,GAA3B,CAA+BC,iCAA/B,EAAqDJ,GAArD,CAAyDQ,wBAAzD,EAAmEF,IAAnE,CAAwEG,yBAAxE;AACAZ,UAAU,CAACG,GAAX,CAAe,SAAf,EAA0BU,uBAA1B;eAEeb,U","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\routers\\","sourcesContent":["import express from \"express\";\r\nimport { home, search} from \"../controllers/videoController\";\r\nimport { getJoin, postJoin, getLogin, postLogin } from \"../controllers/userController\";\r\nimport { get } from \"express/lib/response\";\r\nimport { protectorMiddleware, publicOnlyMiddleware } from \"../middlewares\";\r\n\r\nconst rootRouter = express.Router();\r\n\r\nrootRouter.get(\"/\", home);\r\nrootRouter.route(\"/join\").all(publicOnlyMiddleware).get(getJoin).post(postJoin);\r\nrootRouter.route(\"/login\").all(publicOnlyMiddleware).get(getLogin).post(postLogin);\r\nrootRouter.get(\"/search\", search);\r\n\r\nexport default rootRouter;"]}},"mtime":1652428706529},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"filename\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\\\\src\\\\middlewares.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\phgst\\\\Documents\\\\GitHub\\\\wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = exports.publicOnlyMiddleware = exports.protectorMiddleware = exports.localsMiddleware = exports.avatarUpload = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar localsMiddleware = function localsMiddleware(req, res, next) {\n  res.locals.siteName = \"Wetube\";\n  res.locals.loggedIn = Boolean(req.session.loggedIn);\n  res.locals.loggedInUser = req.session.user || {};\n  next();\n};\n\nexports.localsMiddleware = localsMiddleware;\n\nvar protectorMiddleware = function protectorMiddleware(req, res, next) {\n  if (req.session.loggedIn) {\n    next();\n  } else {\n    return res.redirect(\"/login\");\n  }\n};\n\nexports.protectorMiddleware = protectorMiddleware;\n\nvar publicOnlyMiddleware = function publicOnlyMiddleware(req, res, next) {\n  if (!req.session.loggedIn) {\n    next();\n  } else {\n    return res.redirect(\"/\");\n  }\n};\n\nexports.publicOnlyMiddleware = publicOnlyMiddleware;\nvar avatarUpload = (0, _multer[\"default\"])({\n  dest: \"uploads/avatars\",\n  limits: {}\n});\nexports.avatarUpload = avatarUpload;\nvar videoUpload = (0, _multer[\"default\"])({\n  dest: \"uploads/videos\",\n  limits: {}\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbImxvY2Fsc01pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJuZXh0IiwibG9jYWxzIiwic2l0ZU5hbWUiLCJsb2dnZWRJbiIsIkJvb2xlYW4iLCJzZXNzaW9uIiwibG9nZ2VkSW5Vc2VyIiwidXNlciIsInByb3RlY3Rvck1pZGRsZXdhcmUiLCJyZWRpcmVjdCIsInB1YmxpY09ubHlNaWRkbGV3YXJlIiwiYXZhdGFyVXBsb2FkIiwiZGVzdCIsImxpbWl0cyIsInZpZGVvVXBsb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxJQUFNQSxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ2hERCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV0MsUUFBWCxHQUFzQixRQUF0QjtBQUNBSCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV0UsUUFBWCxHQUFzQkMsT0FBTyxDQUFDTixHQUFHLENBQUNPLE9BQUosQ0FBWUYsUUFBYixDQUE3QjtBQUNBSixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV0ssWUFBWCxHQUEwQlIsR0FBRyxDQUFDTyxPQUFKLENBQVlFLElBQVosSUFBb0IsRUFBOUM7QUFDQVAsRUFBQUEsSUFBSTtBQUNQLENBTE07Ozs7QUFPQSxJQUFNUSxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ25ELE1BQUlGLEdBQUcsQ0FBQ08sT0FBSixDQUFZRixRQUFoQixFQUEwQjtBQUN0QkgsSUFBQUEsSUFBSTtBQUNQLEdBRkQsTUFFTztBQUNILFdBQU9ELEdBQUcsQ0FBQ1UsUUFBSixDQUFhLFFBQWIsQ0FBUDtBQUNIO0FBQ0osQ0FOTTs7OztBQVFBLElBQU1DLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBdUIsQ0FBQ1osR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDcEQsTUFBSSxDQUFDRixHQUFHLENBQUNPLE9BQUosQ0FBWUYsUUFBakIsRUFBMkI7QUFDdkJILElBQUFBLElBQUk7QUFDUCxHQUZELE1BRU87QUFDSCxXQUFPRCxHQUFHLENBQUNVLFFBQUosQ0FBYSxHQUFiLENBQVA7QUFDSDtBQUNKLENBTk07OztBQVFBLElBQU1FLFlBQVksR0FBRyx3QkFBTztBQUFFQyxFQUFBQSxJQUFJLEVBQUUsaUJBQVI7QUFBMkJDLEVBQUFBLE1BQU0sRUFBRTtBQUFuQyxDQUFQLENBQXJCOztBQUlBLElBQU1DLFdBQVcsR0FBRyx3QkFBTztBQUFFRixFQUFBQSxJQUFJLEVBQUUsZ0JBQVI7QUFBMEJDLEVBQUFBLE1BQU0sRUFBRTtBQUFsQyxDQUFQLENBQXBCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xccGhnc3RcXERvY3VtZW50c1xcR2l0SHViXFx3ZXR1YmVcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgbG9jYWxzTWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgcmVzLmxvY2Fscy5zaXRlTmFtZSA9IFwiV2V0dWJlXCI7XHJcbiAgICByZXMubG9jYWxzLmxvZ2dlZEluID0gQm9vbGVhbihyZXEuc2Vzc2lvbi5sb2dnZWRJbik7XHJcbiAgICByZXMubG9jYWxzLmxvZ2dlZEluVXNlciA9IHJlcS5zZXNzaW9uLnVzZXIgfHwge307XHJcbiAgICBuZXh0KCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcHJvdGVjdG9yTWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmxvZ2dlZEluKSB7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL2xvZ2luXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHB1YmxpY09ubHlNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBpZiAoIXJlcS5zZXNzaW9uLmxvZ2dlZEluKSB7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJVcGxvYWQgPSBtdWx0ZXIoeyBkZXN0OiBcInVwbG9hZHMvYXZhdGFyc1wiLCBsaW1pdHM6IHtcclxuICBcclxufSB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7IGRlc3Q6IFwidXBsb2Fkcy92aWRlb3NcIiwgbGltaXRzOiB7XHJcbiAgIFxyXG59IH0pOyJdfQ==","map":{"version":3,"sources":["middlewares.js"],"names":["localsMiddleware","req","res","next","locals","siteName","loggedIn","Boolean","session","loggedInUser","user","protectorMiddleware","redirect","publicOnlyMiddleware","avatarUpload","dest","limits","videoUpload"],"mappings":";;;;;;;AAAA;;;;AAEO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChDD,EAAAA,GAAG,CAACE,MAAJ,CAAWC,QAAX,GAAsB,QAAtB;AACAH,EAAAA,GAAG,CAACE,MAAJ,CAAWE,QAAX,GAAsBC,OAAO,CAACN,GAAG,CAACO,OAAJ,CAAYF,QAAb,CAA7B;AACAJ,EAAAA,GAAG,CAACE,MAAJ,CAAWK,YAAX,GAA0BR,GAAG,CAACO,OAAJ,CAAYE,IAAZ,IAAoB,EAA9C;AACAP,EAAAA,IAAI;AACP,CALM;;;;AAOA,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnD,MAAIF,GAAG,CAACO,OAAJ,CAAYF,QAAhB,EAA0B;AACtBH,IAAAA,IAAI;AACP,GAFD,MAEO;AACH,WAAOD,GAAG,CAACU,QAAJ,CAAa,QAAb,CAAP;AACH;AACJ,CANM;;;;AAQA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACpD,MAAI,CAACF,GAAG,CAACO,OAAJ,CAAYF,QAAjB,EAA2B;AACvBH,IAAAA,IAAI;AACP,GAFD,MAEO;AACH,WAAOD,GAAG,CAACU,QAAJ,CAAa,GAAb,CAAP;AACH;AACJ,CANM;;;AAQA,IAAME,YAAY,GAAG,wBAAO;AAAEC,EAAAA,IAAI,EAAE,iBAAR;AAA2BC,EAAAA,MAAM,EAAE;AAAnC,CAAP,CAArB;;AAIA,IAAMC,WAAW,GAAG,wBAAO;AAAEF,EAAAA,IAAI,EAAE,gBAAR;AAA0BC,EAAAA,MAAM,EAAE;AAAlC,CAAP,CAApB","sourceRoot":"C:\\Users\\phgst\\Documents\\GitHub\\wetube\\src\\","sourcesContent":["import multer from \"multer\";\r\n\r\nexport const localsMiddleware = (req, res, next) => {\r\n    res.locals.siteName = \"Wetube\";\r\n    res.locals.loggedIn = Boolean(req.session.loggedIn);\r\n    res.locals.loggedInUser = req.session.user || {};\r\n    next();\r\n};\r\n\r\nexport const protectorMiddleware = (req, res, next) => {\r\n    if (req.session.loggedIn) {\r\n        next();\r\n    } else {\r\n        return res.redirect(\"/login\");\r\n    }\r\n};\r\n\r\nexport const publicOnlyMiddleware = (req, res, next) => {\r\n    if (!req.session.loggedIn) {\r\n        next();\r\n    } else {\r\n        return res.redirect(\"/\");\r\n    }\r\n};\r\n\r\nexport const avatarUpload = multer({ dest: \"uploads/avatars\", limits: {\r\n  \r\n} });\r\n\r\nexport const videoUpload = multer({ dest: \"uploads/videos\", limits: {\r\n   \r\n} });"]}},"mtime":1652802926725}}